{"version":3,"file":"Table.stories-D_KGf_Eh.js","sources":["../../../src/components/Datatable/Table/Table.stories.tsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { Meta, StoryFn } from '@storybook/react';\nimport { MemoryRouter } from 'react-router-dom';\nimport { omit } from 'ramda';\n\nimport Table from './Table';\nimport { TableProps } from './Table.types';\nimport { Data } from '../../_internal/BaseTable/mocks/types';\nimport assets from '../../_internal/BaseTable/mocks/ipAssets.json';\nimport { defaultTableConfig } from '../defaultConfigs';\nimport { simpleColumns } from '../../_internal/BaseTable/mocks/columns';\nimport { datatableRowActions } from '../mocks/actions';\nimport { DatatableStore, datatableInitialState } from '../Datatable.store';\n\nexport default {\n  title: 'tests/Datatable/Table',\n  component: Table,\n  parameters: {\n    viewMode: 'story',\n    screenshot: {\n      viewport: {\n        width: 1820,\n        height: 720,\n      },\n    },\n    mockDate: new Date('2021-03-31T00:00:00Z'),\n  },\n  argTypes: {\n    data: { controls: { type: 'disabled' } },\n  },\n  decorators: [(storyFn) => <MemoryRouter>{storyFn()}</MemoryRouter>],\n} as Meta;\n\ntype Story = StoryFn<TableProps<Data>>;\n\nconst TableTemplate: Story = (args) => <Table<Data> {...args} />;\n\nexport const Playground: Story = (args) => <TableTemplate {...args} />;\n\nPlayground.args = {\n  ...omit(['onSelect'], defaultTableConfig),\n  data: assets.slice(0, 50),\n  dataSize: assets.length,\n  columns: simpleColumns,\n  defaultSelectedRows: {},\n};\n\nexport const MinimalConfig = TableTemplate.bind({});\nMinimalConfig.args = {\n  ...omit(['onSelect'], defaultTableConfig),\n  data: assets.slice(0, 50),\n  columns: simpleColumns,\n  dataSize: assets.length,\n  defaultSelectedRows: {},\n};\n\nexport const WithDisabledSelection = TableTemplate.bind({});\nWithDisabledSelection.args = {\n  ...MinimalConfig.args,\n  hasSelection: false,\n};\n\nexport const WithRowActions = TableTemplate.bind({});\nWithRowActions.args = {\n  ...MinimalConfig.args,\n  rowActions: datatableRowActions,\n};\n\nexport const WithSelectedRows = TableTemplate.bind({});\nWithSelectedRows.args = {\n  ...MinimalConfig.args,\n  defaultSelectedRows: { 1: true, 6: true, 24: true },\n};\n\nexport const WithExclusiveSelection: Story = (args) => {\n  useEffect(() => {\n    DatatableStore.update((s) => {\n      s.hasExclusiveSelection = true;\n    });\n\n    return () => {\n      DatatableStore.replace(datatableInitialState);\n    };\n  });\n\n  return <Table<Data> {...args} />;\n};\nWithExclusiveSelection.args = MinimalConfig.args;\n\nexport const WithSingleSelection = TableTemplate.bind({});\nWithSingleSelection.args = {\n  ...MinimalConfig.args,\n  isMultiSelect: false,\n};\n\nexport const WithSingleSelectionAndSelectedRow = TableTemplate.bind({});\nWithSingleSelectionAndSelectedRow.args = {\n  ...MinimalConfig.args,\n  isMultiSelect: false,\n  defaultSelectedRows: { 1: true },\n};\n\nexport const WithoutSorting = TableTemplate.bind({});\nWithoutSorting.args = {\n  ...MinimalConfig.args,\n  hasSorting: false,\n};\n\nexport const WithSortedColumn = TableTemplate.bind({});\nWithSortedColumn.args = {\n  ...MinimalConfig.args,\n  defaultSortBy: [\n    { id: 'ipAddress', desc: true },\n    { id: 'status', desc: false },\n  ],\n};\n\nexport const WithCustomPageSize = TableTemplate.bind({});\nWithCustomPageSize.args = {\n  ...MinimalConfig.args,\n  data: assets.slice(0, 50),\n  defaultPageSize: 5,\n  hasServerSidePagination: false,\n};\n\nexport const WithNoData = TableTemplate.bind({});\nWithNoData.args = {\n  ...MinimalConfig.args,\n  data: [],\n  dataSize: 0,\n};\nexport const WithNoDataCustom = TableTemplate.bind({});\nWithNoDataCustom.storyName = 'With No Data (custom component)';\nWithNoDataCustom.args = {\n  ...WithNoData.args,\n  NoDataComponent: () => <div>We do not have any data</div>,\n};\n\nexport const WithNoMatchingData: Story = (args) => {\n  useEffect(() => {\n    DatatableStore.replace(datatableInitialState);\n    DatatableStore.update((s) => {\n      s.hasAppliedFilters = true;\n    });\n\n    return () => {\n      DatatableStore.replace(datatableInitialState);\n    };\n  }, []);\n\n  return <Table<Data> {...args} />;\n};\nWithNoMatchingData.args = WithNoData.args;\n\nexport const WithNoMatchingDataCustom: Story = (args) => {\n  useEffect(() => {\n    DatatableStore.replace(datatableInitialState);\n    DatatableStore.update((s) => {\n      s.hasAppliedFilters = true;\n    });\n\n    return () => {\n      DatatableStore.replace(datatableInitialState);\n    };\n  }, []);\n\n  return <Table<Data> {...args} />;\n};\nWithNoMatchingDataCustom.storyName = 'With No Matching Data (custom component)';\nWithNoMatchingDataCustom.args = {\n  ...WithNoData.args,\n  NoMatchingDataComponent: () => <div>No data match your current filters</div>,\n};\n\nexport const DataIsLoadingWithoutPreviousData = TableTemplate.bind({});\nDataIsLoadingWithoutPreviousData.args = {\n  ...WithNoData.args,\n  isDataLoading: true,\n};\n\nexport const DataIsLoadingWithPreviousData = TableTemplate.bind({});\nDataIsLoadingWithPreviousData.args = {\n  ...MinimalConfig.args,\n  isDataLoading: true,\n};\n\nexport const DataIsLoadingWithPreviousDataAndIsCancelable = TableTemplate.bind(\n  {},\n);\nDataIsLoadingWithPreviousDataAndIsCancelable.args = {\n  ...MinimalConfig.args,\n  isDataLoading: true,\n  isCancelDisabled: false,\n  onCancelLoading: () => null,\n};\n\nexport const WithSinglePage = TableTemplate.bind({});\nWithSinglePage.args = {\n  ...MinimalConfig.args,\n  dataSize: 50,\n};\n"],"names":["component","Table_stories","parameters","viewMode","screenshot","viewport","width","height","mockDate","argTypes","Date","data","controls","type","decorators","storyFn","MemoryRouter","TableTemplate","jsx","Table","args","slice","dataSize","omit","defaultTableConfig","columns","defaultSelectedRows","simpleColumns","MinimalConfig","bind","assets","WithDisabledSelection","hasSelection","rowActions","WithSelectedRows","Story","useEffect","WithExclusiveSelection","DatatableStore","update","s","datatableInitialState","Data","replace","WithSingleSelection","isMultiSelect","WithSingleSelectionAndSelectedRow","hasSorting","WithoutSorting","defaultSortBy","id","desc","WithSortedColumn","hasServerSidePagination","WithCustomPageSize","defaultPageSize","WithNoDataCustom","WithNoData","NoDataComponent","WithNoMatchingData","storyName","hasAppliedFilters","isDataLoading","NoMatchingDataComponent","DataIsLoadingWithPreviousDataAndIsCancelable","isCancelDisabled","onCancelLoading"],"mappings":"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"}