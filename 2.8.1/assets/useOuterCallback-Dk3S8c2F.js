import{r as o}from"./index-CTjT7uj6.js";import{r as T}from"./index-DIVhMF2i.js";var I=function(l){var t=o.useRef(l);return t.current=l,t},L=function(l,t){t===void 0&&(t=100);var n=setTimeout(function(){clearTimeout(n),l()},t)},R=function(l){return Array.isArray(l)?l.every(function(t){return!Array.from(document.getElementsByClassName(t)).length}):l},U=function(t){var n=document.createElement("div");return n.setAttribute("id",t),document.body.appendChild(n),n},W=function(l,t,n,i,u){return function(r){var s=r.children,m=o.useState(),c=m[0],k=m[1];return o.useEffect(function(){return n?(k(document.getElementById(l)||U(l)),function(){c&&L(function(){t&&c.innerHTML===""&&c.remove()})}):function(){return null}},[c]),o.useEffect(function(){if(!n||!c)return function(){return null};var d=!1,f=function(a){d=!c.contains(a.target)},b=function(a){d&&i(a)},C=function(a){a.key==="Escape"&&u(a)};return i&&(document.addEventListener("mousedown",f),document.addEventListener("click",b)),u&&document.addEventListener("keydown",C),function(){i&&(document.removeEventListener("mousedown",f),document.removeEventListener("click",b)),u&&document.removeEventListener("keydown",C)}},[c]),n&&c?T.createPortal(s,c):null}},Y="react-cool-portal",G=function(t){var n=t===void 0?{}:t,i=n.containerId,u=i===void 0?Y:i,r=n.autoRemoveContainer,s=r===void 0?!0:r,m=n.defaultShow,c=m===void 0?!0:m,k=n.clickOutsideToHide,d=k===void 0?!0:k,f=n.escToHide,b=f===void 0?!0:f,C=n.internalShowHide,v=C===void 0?!0:C,a=n.onShow,D=n.onHide,M=o.useState(c),S=M[0],H=M[1],w=o.useRef(!1),p=I(a),B=I(D),E=o.useRef(c),y=o.useCallback(function(){d&&(w.current=!0,L(function(){w.current=!1}))},[d]),g=o.useCallback(function(A){y(),!E.current&&(H(!0),E.current=!0,p.current&&p.current(A))},[p,y]),h=o.useCallback(function(A){y(),E.current&&(H(!1),E.current=!1,B.current&&B.current(A))},[B,y]),O=o.useCallback(function(A){E.current?h(A):g(A)},[h,g]),_=o.useCallback(function(A){w.current||(A.type==="click"&&R(d)||A.type==="keydown"&&R(b))&&h(A)},[h]),K=o.useCallback(W(u,s,!v||S,_,_),[v,S]);return{Portal:K,isShow:S,show:g,hide:h,toggle:O}};function e(){var l="/home/runner/work/design-system/design-system/src/hooks/useOuterCallback.ts",t="8d19410257b730704b48a45f517983b02a76b10b",n=window,i="__coverage__",u={path:"/home/runner/work/design-system/design-system/src/hooks/useOuterCallback.ts",statementMap:{0:{start:{line:2,column:29},end:{line:27,column:1}},1:{start:{line:3,column:19},end:{line:3,column:31}},2:{start:{line:4,column:22},end:{line:4,column:34}},3:{start:{line:5,column:2},end:{line:7,column:5}},4:{start:{line:6,column:4},end:{line:6,column:35}},5:{start:{line:8,column:2},end:{line:25,column:9}},6:{start:{line:9,column:25},end:{line:13,column:5}},7:{start:{line:10,column:6},end:{line:12,column:7}},8:{start:{line:11,column:8},end:{line:11,column:31}},9:{start:{line:14,column:27},end:{line:18,column:5}},10:{start:{line:15,column:6},end:{line:17,column:7}},11:{start:{line:16,column:8},end:{line:16,column:24}},12:{start:{line:19,column:4},end:{line:19,column:57}},13:{start:{line:20,column:4},end:{line:20,column:53}},14:{start:{line:21,column:4},end:{line:24,column:6}},15:{start:{line:22,column:6},end:{line:22,column:62}},16:{start:{line:23,column:6},end:{line:23,column:58}},17:{start:{line:26,column:2},end:{line:26,column:18}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:29},end:{line:2,column:30}},loc:{start:{line:2,column:43},end:{line:27,column:1}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:5,column:12},end:{line:5,column:13}},loc:{start:{line:5,column:18},end:{line:7,column:3}},line:5},2:{name:"(anonymous_2)",decl:{start:{line:8,column:12},end:{line:8,column:13}},loc:{start:{line:8,column:18},end:{line:25,column:3}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:9,column:25},end:{line:9,column:26}},loc:{start:{line:9,column:32},end:{line:13,column:5}},line:9},4:{name:"(anonymous_4)",decl:{start:{line:14,column:27},end:{line:14,column:28}},loc:{start:{line:14,column:34},end:{line:18,column:5}},line:14},5:{name:"(anonymous_5)",decl:{start:{line:21,column:11},end:{line:21,column:12}},loc:{start:{line:21,column:17},end:{line:24,column:5}},line:21}},branchMap:{0:{loc:{start:{line:10,column:6},end:{line:12,column:7}},type:"if",locations:[{start:{line:10,column:6},end:{line:12,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},1:{loc:{start:{line:10,column:10},end:{line:10,column:125}},type:"binary-expr",locations:[{start:{line:10,column:10},end:{line:10,column:26}},{start:{line:10,column:30},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:89}},{start:{line:10,column:93},end:{line:10,column:125}}],line:10},2:{loc:{start:{line:15,column:6},end:{line:17,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:17,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/design-system/design-system/src/hooks/useOuterCallback.ts"],names:["useEffect","useRef","useOuterClick","callback","innerRef","callbackRef","current","fireCallback","e","contains","target","document","body","handleKeypress","key","addEventListener","removeEventListener"],mappings:"AAAA,SAGEA,WACAC,cACK;AAEA,aAAMC,gBAAgB,CAC3BC,aACwB;AACxB,QAAMC,WAAWH,OAAU,IAAI;AAC/B,QAAMI,cAAcJ,OAAO,IAAI;AAG/BD,YAAU,MAAM;AAEdK,gBAAYC,UAAUH;AAAAA,EACxB,CAAC;AAEDH,YAAU,MAAM;AAEd,UAAMO,eAAeA,CAACC,MAAwC;AAC5D,UACEJ,SAASE,WACTD,YAAYC,WACZ,CAACF,SAASE,QAAQG,SAASD,EAAEE,MAAc,KAC3CC,SAASC,KAAKH,SAASD,EAAEE,MAAc,GACvC;AACAL,oBAAYC,QAAQE,CAAC;AAAA,MACvB;AAAA,IACF;AAEA,UAAMK,iBAAiBA,CAACL,MAAqB;AAC3C,UAAIA,EAAEM,QAAQ,UAAU;AACtBP,qBAAaC,CAAC;AAAA,MAChB;AAAA,IACF;AAEAG,aAASI,iBAAiB,WAAWF,cAAc;AACnDF,aAASI,iBAAiB,SAASR,YAAY;AAE/C,WAAO,MAAM;AACXI,eAASK,oBAAoB,WAAWH,cAAc;AACtDF,eAASK,oBAAoB,SAAST,YAAY;AAAA,IACpD;AAAA,EACF,GAAG,EAAE;AAEL,SAAOH;AACT;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8d19410257b730704b48a45f517983b02a76b10b"},r=n[i]||(n[i]={});(!r[l]||r[l].hash!==t)&&(r[l]=u);var s=r[l];return e=function(){return s},s}e();e().s[0]++;const P=l=>{e().f[0]++;const t=(e().s[1]++,o.useRef(null)),n=(e().s[2]++,o.useRef(null));return e().s[3]++,o.useEffect(()=>{e().f[1]++,e().s[4]++,n.current=l}),e().s[5]++,o.useEffect(()=>{e().f[2]++,e().s[6]++;const i=r=>{e().f[3]++,e().s[7]++,e().b[1][0]++,t.current&&(e().b[1][1]++,n.current)&&(e().b[1][2]++,!t.current.contains(r.target))&&(e().b[1][3]++,document.body.contains(r.target))?(e().b[0][0]++,e().s[8]++,n.current(r)):e().b[0][1]++};e().s[9]++;const u=r=>{e().f[4]++,e().s[10]++,r.key==="Escape"?(e().b[2][0]++,e().s[11]++,i(r)):e().b[2][1]++};return e().s[12]++,document.addEventListener("keydown",u),e().s[13]++,document.addEventListener("click",i),e().s[14]++,()=>{e().f[5]++,e().s[15]++,document.removeEventListener("keydown",u),e().s[16]++,document.removeEventListener("click",i)}},[]),e().s[17]++,t};export{P as a,G as u};
//# sourceMappingURL=useOuterCallback-Dk3S8c2F.js.map
