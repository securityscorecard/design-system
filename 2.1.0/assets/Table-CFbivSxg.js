import{j as n}from"./jsx-runtime-Nms4Y4qS.js";import{r as t}from"./index-BwDkhjyp.js";import{P as e}from"./index-Dk74W0Oi.js";import{s as C,k as u,r as V,i as L,f as O,j as z,S as _}from"./space-B9R18Mwn.js";import{r as s}from"./index-BjrugAYY.js";import{g as M,H as F,B as H,L as W,N as G,R as K}from"./BaseTable.types-CWT_QYS5.js";import{B as U,a as X,S as J,C as Q}from"./BaseTable.styles-2ZZNyzZ6.js";import{F as Y}from"./Footer-okUfKtpz.js";import"./DSProvider-DzIDhM_J.js";import"./theme-BW2FcxSF.js";import"./index-DFvsTZbx.js";import"./Surface-Cs7tekjF.js";import{P as Z}from"./Padbox-BrtZqAZY.js";import"./Stack-B_iJg7G-.js";import"./Inline-Cavohj9s.js";import"./Cluster-f2eLrBJy.js";import{s as $}from"./F-DymNqVSm.js";import{p as ee}from"./prop-3Huj0iT1.js";import{i as ne}from"./isNonEmptyArray-WRg_f07P.js";import{n as v}from"./noop-Bk6XfTLC.js";const ae=()=>{const a=t.useRef(!0);return t.useEffect(()=>{a.current=!1},[]),a.current},re=C(Z).withConfig({displayName:"Table__NoDataContainer",componentId:"sc-1pe98fy-0"})(["background:",";"],u("neutral.0")),te=C.div.withConfig({displayName:"Table__TableWrapper",componentId:"sc-1pe98fy-1"})(["border:1px solid ",";border-top-width:0;background:",";border-radius:",";"],u("neutral.300"),u("neutral.0"),V("default")),oe=a=>n.jsx(Q,{...a});function m({columns:a,data:T,dataSize:i,NoDataComponent:h=G,hasPagination:D=!0,defaultPageSize:l=20,hasSorting:R=!0,defaultSortBy:k=[],defaultPageIndex:q=0,isDataLoading:d=!1,onPageChange:p=v,onSortChange:g=v,rowActions:c=[],dataPrimaryKey:o}){const x=t.useMemo(()=>({minWidth:40,width:150,maxWidth:400,nullCondition:$,Cell:r=>oe(r),cellType:"text"}),[]),{getTableProps:I,getTableBodyProps:S,gotoPage:f,headerGroups:P,page:j,prepareRow:A,pageCount:y,state:{pageIndex:N,sortBy:b}}=s.useTable({columns:a,data:T,defaultColumn:x,initialState:{pageSize:l,pageIndex:q,sortBy:k},pageCount:Math.ceil(i/l),autoResetPage:!1,disableSortBy:!R,autoResetSortBy:!1,manualPagination:!1,...L(o)&&{getRowId:O(o)?ee(o):o},rowActions:c},s.useSortBy,s.usePagination,s.useFlexLayout,r=>{r.visibleColumns.push(E=>[...E,...ne(c)?[M()]:[]])}),w=ae();t.useEffect(()=>{w||g(b)},[b,w,g]);const B=t.useCallback(r=>{p(r+1),f(r)},[p,f]);return n.jsxs(te,{className:z,children:[n.jsx(U,{children:n.jsx(X,{tabIndex:0,children:n.jsxs(J,{...I(),children:[n.jsx(F,{headerGroups:P}),n.jsx(H,{prepareRow:A,rows:j,...S()})]})})}),i===0?n.jsx(re,{paddingSize:_.xl,children:d?n.jsx(W,{}):n.jsx(h,{})}):y!==1?n.jsx(Y,{hasPagination:D&&i>0,isDataLoading:d,pageCount:y,pageIndex:N,onGotoPage:B}):null]})}m.propTypes={NoDataComponent:e.elementType,hasPagination:e.bool,defaultPageSize:e.number,hasSorting:e.bool,defaultPageIndex:e.number,defaultSortBy:e.arrayOf(e.shape({id:e.string.isRequired,desc:e.bool})),rowActions:e.arrayOf(K),dataPrimaryKey:e.oneOfType([e.string,e.func]),onPageChange:e.func,onSortChange:e.func};m.displayName="Table";m.__docgenInfo={description:"",methods:[],displayName:"Table",props:{isDataLoading:{required:!1,tsType:{name:"boolean"},description:"Flag to determine wheter data is currently loading",defaultValue:{value:"false",computed:!1}},hasPagination:{required:!1,tsType:{name:"boolean"},description:"Enables pagination for the table",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},defaultPageSize:{required:!1,tsType:{name:"number"},description:"Number of row displayed per page",defaultValue:{value:"20",computed:!1},type:{name:"number"}},defaultPageIndex:{required:!1,tsType:{name:"number"},description:"Initial page index (zero-based)",defaultValue:{value:"0",computed:!1},type:{name:"number"}},hasSorting:{required:!1,tsType:{name:"boolean"},description:"Enables columns sorting",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},defaultSortBy:{required:!1,tsType:{name:"Array",elements:[{name:"SortingRule",elements:[{name:"D"}],raw:"SortingRule<D>"}],raw:"SortingRule<D>[]"},description:"Initial sorting state",defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0},desc:{name:"bool",required:!1}}}}},NoDataComponent:{required:!1,tsType:{name:"ReactComponentLike"},description:"Component rendered when table have no data",defaultValue:{value:`() => (
  <>
    <H4 margin={{ top: 0, bottom: 0.8 }}>No data available</H4>
    <Paragraph margin={{ bottom: 0.8 }} size={TextSizes.md}>
      There are no records in this database.
    </Paragraph>
  </>
)`,computed:!1},type:{name:"elementType"}},onPageChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(page: number) => void",signature:{arguments:[{type:{name:"number"},name:"page"}],return:{name:"void"}}},description:"Callback called when pagination is clicked",defaultValue:{value:"noop",computed:!0},type:{name:"func"}},onSortChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(sort: SortingRule<D>[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"SortingRule",elements:[{name:"D"}],raw:"SortingRule<D>"}],raw:"SortingRule<D>[]"},name:"sort"}],return:{name:"void"}}},description:"Callback called when sorting is clicked",defaultValue:{value:"noop",computed:!0},type:{name:"func"}},dataPrimaryKey:{required:!1,tsType:{name:"union",raw:`| string
| ((originalRow: D, relativeIndex: number, parent?: Row<D>) => string)`,elements:[{name:"string"},{name:"unknown"}]},description:`Name of column used as table primary key or function to retrieve the key

Return value is used as id for selected rows`,type:{name:"union",value:[{name:"string"},{name:"func"}]}},rowActions:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:`| HandlerRowAction<D>
| AbsoluteLinkRowAction<D>
| RelativeLinkRowAction<D>`,elements:[{name:"Required",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  name: string;
  onClick?: (rowId: number | string, row: D) => void;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"(rowId: number | string, row: D) => void",signature:{arguments:[{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"rowId"},{type:{name:"D"},name:"row"}],return:{name:"void"}},required:!1}}]}}],raw:"Required<BaseRowAction<D>>"},{name:"intersection",raw:`BaseRowAction<D> & {
  hrefComposer: (rowId: number | string, row: D) => string;
  toComposer?: never;
}`,elements:[{name:"signature",type:"object",raw:`{
  label: string;
  name: string;
  onClick?: (rowId: number | string, row: D) => void;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"(rowId: number | string, row: D) => void",signature:{arguments:[{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"rowId"},{type:{name:"D"},name:"row"}],return:{name:"void"}},required:!1}}]}},{name:"signature",type:"object",raw:`{
  hrefComposer: (rowId: number | string, row: D) => string;
  toComposer?: never;
}`,signature:{properties:[{key:"hrefComposer",value:{name:"signature",type:"function",raw:"(rowId: number | string, row: D) => string",signature:{arguments:[{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"rowId"},{type:{name:"D"},name:"row"}],return:{name:"string"}},required:!0}},{key:"toComposer",value:{name:"never",required:!1}}]}}]},{name:"intersection",raw:`BaseRowAction<D> & {
  toComposer: (rowId: number | string, row: D) => To;
  hrefComposer?: never;
}`,elements:[{name:"signature",type:"object",raw:`{
  label: string;
  name: string;
  onClick?: (rowId: number | string, row: D) => void;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"(rowId: number | string, row: D) => void",signature:{arguments:[{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"rowId"},{type:{name:"D"},name:"row"}],return:{name:"void"}},required:!1}}]}},{name:"signature",type:"object",raw:`{
  toComposer: (rowId: number | string, row: D) => To;
  hrefComposer?: never;
}`,signature:{properties:[{key:"toComposer",value:{name:"signature",type:"function",raw:"(rowId: number | string, row: D) => To",signature:{arguments:[{type:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},name:"rowId"},{type:{name:"D"},name:"row"}],return:{name:"To"}},required:!0}},{key:"hrefComposer",value:{name:"never",required:!1}}]}}]}]}],raw:"RowAction<D>[]"},description:"List of actions available on single table row, shows last column with actions dropdown",defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"custom",raw:"RowActionKindsPropType"}}},data:{required:!0,tsType:{name:"Array",elements:[{name:"D"}],raw:"D[]"},description:"Table data you want to display"},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column",elements:[{name:"D"}],raw:"Column<D>"}],raw:"Column<D>[]"},description:`Settings for each table column.

Extends: https://react-table.tanstack.com/docs/api/useTable#column-options`},dataSize:{required:!0,tsType:{name:"number"},description:"Total size of data"}}};export{m as T};
