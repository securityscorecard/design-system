import{j as r}from"./jsx-runtime-Nms4Y4qS.js";import{r as c,R as F}from"./index-BwDkhjyp.js";import{i as u,s as d,k as B,g,S as p,p as _,E as j,h as E,j as G}from"./space-B9R18Mwn.js";import{P as e}from"./index-Dk74W0Oi.js";import{c as J}from"./index-CVyJwDg7.js";import{I as Q}from"./Input-CwSx1PX_.js";import{I as q,S as T,a as w}from"./Icon-B7DxM8PH.js";import"./DSProvider-DzIDhM_J.js";import"./theme-BW2FcxSF.js";import"./index-DFvsTZbx.js";import{S as Y}from"./Spinner-DLDOSOzx.js";import{i as Z}from"./isNonEmptyString-Dt8hjEzN.js";import{i as ee}from"./isNotNilOrEmpty-Drr4-pBH.js";const ae=(s,n,f)=>{const o=u(s),i=u(n),[a,m]=c.useState(i?n:"");return{value:o?s:a,onChange:h=>{f&&f(h),o||m(h.target.value)},isControlled:o,clearValue:()=>m("")}},te=d.div.withConfig({displayName:"SearchBar__SearchBarRoot",componentId:"sc-cl9trn-0"})(["position:relative;"]),k=d.div.withConfig({displayName:"SearchBar__IconWrapper",componentId:"sc-cl9trn-1"})(["position:absolute;top:0;display:flex;align-items:center;color:",";"],B("neutral.800")),re=d(k).withConfig({displayName:"SearchBar__SearchIconWrapper",componentId:"sc-cl9trn-2"})(["left:0;padding:",";height:",";"],g(p.md),_(j("fieldHeight"),E)),se=d(k).withConfig({displayName:"SearchBar__ClearButton",componentId:"sc-cl9trn-3"})(["right:",";height:",";background:none;border:none;border-radius:0;cursor:pointer;&:hover,&:focus{::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;border-radius:100%;background-color:",";z-index:-1;}}"],g(p.md),_(j("fieldHeight"),E),B("error.500")),ne=d(Q).withConfig({displayName:"SearchBar__SearchInput",componentId:"sc-cl9trn-4"})(["padding-left:",";padding-right:",";"],g(p.lgPlus),({$isClearable:s,theme:n})=>g(s?p.lgPlus:p.md,{theme:n})),C=F.forwardRef(({value:s,defaultValue:n,onChange:f,onKeyUp:o,onClear:i,onSearch:a,hasDebouncedSearch:m=!1,debounceTime:v=500,placeholder:I="Search",isDisabled:h=!1,isInvalid:y=!1,isSearching:O=!1,shouldTriggerSearchOnMount:R=!1,className:D,...W},M)=>{const{value:l,onChange:U,isControlled:S,clearValue:K}=ae(s,n,f),[P,V]=c.useState(!1),z=a===void 0?O:P,[x,H]=c.useState(0),N=Z(l)&&(!S||S&&u(i)),$=()=>{i&&i(),S||K()},b=c.useCallback(async t=>{y||(V(!0),await(a==null?void 0:a(t)),V(!1))},[y,a]);c.useEffect(()=>{R&&ee(l)&&b(l)},[]);const L=t=>{const A=t.target.value;m&&(x&&window.clearTimeout(x),H(window.setTimeout(()=>{b(A)},v))),U(t)},X=t=>{u(o)&&o(t),t.key==="Enter"&&u(a)&&b(l)};return r.jsxs(te,{className:J(G,D),children:[r.jsx(ne,{...W,ref:M,$isClearable:N,isDisabled:h,isInvalid:y,placeholder:I,type:"search",value:l,onChange:L,onKeyUp:X}),r.jsx(re,{children:z?r.jsx(Y,{borderWidth:2,height:16,verticalMargin:0,width:16,dark:!0}):r.jsx(q,{name:T.search,type:w.ssc})}),N&&r.jsx(se,{"aria-label":"Clear search value",as:"button",onClick:$,children:r.jsx(q,{name:T.times,type:w.ssc})})]})});C.propTypes={value:e.string,defaultValue:e.string,hasDebouncedSearch:e.bool,debounceTime:e.number,isDisabled:e.bool,isInvalid:e.bool,isSearching:e.bool,shouldTriggerSearchOnMount:e.bool,placeholder:e.string,className:e.string,onChange:e.func,onClear:e.func,onSearch:e.func,onKeyUp:e.func};const Ce=C;C.__docgenInfo={description:"",methods:[],displayName:"SearchBar",props:{hasDebouncedSearch:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},debounceTime:{defaultValue:{value:"500",computed:!1},description:"",type:{name:"number"},required:!1},placeholder:{defaultValue:{value:"'Search'",computed:!1},description:"",type:{name:"string"},required:!1},isDisabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isInvalid:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},isSearching:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},shouldTriggerSearchOnMount:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},value:{description:"",type:{name:"string"},required:!1},defaultValue:{description:"",type:{name:"string"},required:!1},className:{description:"",type:{name:"string"},required:!1},onChange:{description:"",type:{name:"func"},required:!1},onClear:{description:"",type:{name:"func"},required:!1},onSearch:{description:"",type:{name:"func"},required:!1},onKeyUp:{description:"",type:{name:"func"},required:!1}}};export{Ce as S};
