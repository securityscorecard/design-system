{"version":3,"file":"Modal-BocUju5l.js","sources":["../../../src/components/Modal/Modal.enums.ts","../../../src/components/Modal/Modal.tsx"],"sourcesContent":["export const ModalSizes = {\n  xs: 'xs',\n  sm: 'sm',\n  md: 'md',\n  lg: 'lg',\n  xl: 'xl',\n} as const;\n","import { forwardRef, useContext } from 'react';\nimport usePortal from 'react-cool-portal';\nimport styled from 'styled-components';\nimport cls from 'classnames';\n\nimport { ModalProps } from './Modal.types';\nimport { ModalSizes } from './Modal.enums';\nimport { useLockBodyScroll } from '../../hooks/useLockBodyScroll';\nimport { useOuterClick } from '../../hooks/useOuterCallback';\nimport { Inline, Padbox, Surface } from '../layout';\nimport { H4 } from '../Heading';\nimport { Overlay } from '../_internal/BaseOverlay';\nimport { pxToRem } from '../../utils';\nimport { mergeRefs } from '../../utils/mergeRefs';\nimport { SpaceSizes } from '../../theme';\nimport { DSContext } from '../../theme/DSProvider/DSProvider';\nimport { CloseButton } from '../CloseButton';\nimport { StretchEnum } from '../layout/Inline/Inline.enums';\nimport { CLX_COMPONENT } from '../../theme/constants';\nimport { FloatingProvider } from '../../contexts/FloatingContext';\nimport FocusTrap from '../FocusTrap';\n\nconst widthVariants = {\n  [ModalSizes.xs]: 320,\n  [ModalSizes.sm]: 430,\n  [ModalSizes.md]: 600,\n  [ModalSizes.lg]: 900,\n  [ModalSizes.xl]: 1440,\n};\n\nconst BaseModal = styled(Surface)<{ $maxWidth: number }>`\n  display: flex;\n  flex-direction: column;\n  max-height: 90vh;\n  width: 90%;\n  max-width: ${({ $maxWidth }) => pxToRem($maxWidth)};\n`;\n\nconst Title = styled(H4)`\n  margin: 0;\n`;\n\nconst Header = styled.div`\n  padding: var(--sscds-space-dialog-content-padding);\n  padding-block-end: var(--sscds-space-2x);\n`;\nconst Content = styled.div`\n  padding: var(--sscds-space-dialog-content-padding);\n  padding-block-start: 0;\n  overflow-y: auto;\n`;\n\nconst Footer = styled(Padbox)`\n  border-top: 1px solid var(--sscds-border-color);\n  padding-inline: var(--sscds-space-dialog-content-padding);\n  padding-block: var(--sscds-space-4x);\n`;\nconst Modal = forwardRef<HTMLDivElement, ModalProps>(\n  (\n    {\n      title,\n      onClose,\n      footer,\n      size = ModalSizes.md,\n      children,\n      className,\n      ...rest\n    }: ModalProps,\n    ref,\n  ) => {\n    const { portalsContainerId } = useContext(DSContext);\n    const { Portal } = usePortal({\n      containerId: portalsContainerId,\n      internalShowHide: false,\n      autoRemoveContainer: false,\n    });\n\n    const modalRef = useOuterClick<HTMLDivElement>(onClose);\n\n    useLockBodyScroll();\n\n    return (\n      <FloatingProvider>\n        <Portal>\n          <FocusTrap isActive>\n            <Overlay data-testid=\"dialog-overlay\" placement=\"center\">\n              <BaseModal\n                ref={mergeRefs<HTMLDivElement>(modalRef, ref)}\n                $maxWidth={widthVariants[size]}\n                className={cls(CLX_COMPONENT, className, 'ssc-ui-styled')}\n                elevation={3}\n                radius=\"lg\"\n                hasBorder\n                {...rest}\n              >\n                <Inline stretch={StretchEnum.start}>\n                  <Header className=\"sscds-modal-header\">\n                    {typeof title !== 'undefined' && <Title>{title}</Title>}\n                  </Header>\n                  {onClose && (\n                    <CloseButton\n                      marginCompensation={SpaceSizes.none}\n                      style={{ position: 'relative', zIndex: 1 }}\n                      onClose={onClose}\n                    />\n                  )}\n                </Inline>\n                <Content className=\"sscds-modal-content\">{children}</Content>\n                {typeof footer !== 'undefined' && (\n                  <Footer className=\"sscds-modal-footer\">{footer}</Footer>\n                )}\n              </BaseModal>\n            </Overlay>\n          </FocusTrap>\n        </Portal>\n      </FloatingProvider>\n    );\n  },\n);\n\nexport default Modal;\n"],"names":["ModalSizes","xs","sm","md","lg","xl","cov_1158pfd6ba","path","hash","global","gcv","coverageData","coverage","actualCoverage","widthVariants","s","BaseModal","styled","Surface","withConfig","displayName","componentId","$maxWidth","f","pxToRem","Title","H4","Header","div","Content","onClose","Modal","forwardRef","title","portalsContainerId","footer","size","b","Portal","className","ref","useContext","DSContext","usePortal","containerId","internalShowHide","autoRemoveContainer","modalRef","useOuterClick","useLockBodyScroll","jsx","FloatingProvider","children","FocusTrap","isActive","Overlay","placement","jsxs","mergeRefs","cls","CLX_COMPONENT","elevation","radius","hasBorder","rest"],"mappings":"ixDAAaA,MAAAA,GAAAA,IAAAA,EAAAA,CAAAA,IAAa,CACxBC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,KACJC,GAAI,IACN,GCWA,SAAAC,GAAA,CAAA,IAAAC,EAAA,+EAAAC,EAAA,2CAAAC,EAAA,OAAAC,EAAA,eAAAC,EAAA,CAAA,KAAA,+EAAA,aAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,GAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,IAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,KAAA,gBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,KAAA,gBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,GAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,CAAA,EAAA,EAAA,CAAA,EAAA,EAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,eAAA,CAAA,QAAA,EAAA,KAAA,KAAA,QAAA,CAAA,8EAAA,EAAA,MAAA,CAAA,QAAA,UAAA,SAAA,KAAA,WAAA,YAAA,qBAAA,SAAA,oBAAA,OAAA,EAAA,SAAA,0cAAA,EAAA,gBAAA,2CAAA,KAAA,0CAAA,EAAAC,EAAAH,EAAAC,CAAA,IAAAD,EAAAC,CAAA,EAAA,CAAA,IAAA,CAAAE,EAAAL,CAAA,GAAAK,EAAAL,CAAA,EAAA,OAAAC,KAAAI,EAAAL,CAAA,EAAAI,GAAA,IAAAE,EAAAD,EAAAL,CAAA,EAAAD,OAAAA,EAAA,UAAA,CAAA,OAAAO,CAAA,EAAAA,CAAA,CAAAP,EAAA,EAMmB,MAAAQ,GAAAR,EAAA,EAAAS,EAAA,CAAA,IAAA,CAAA,CAAAf,EAAAC,EAAA,MACA,CAAAD,EAAAE,EAAA,EACA,IAAA,CAAAF,EAAAG,EAAA,EAAA,IACA,CAAAH,EAAAI,EAAA,MAEnB,CAAAJ,EAAAK,EAAA,EAEiC,IAAA,GAAAW,GAAAV,EAAA,EAAAS,EAAAE,CAAAA,IAAAA,EAAAC,CAAA,EAAAC,WAAA,CAAAC,YAAA,mBAAAC,YAAA,cAAA,CAAA,EAAA,CAAA,0EAAA,GAAA,EAAA,CAAA,CAQTC,UAAAA,CAAA,KAAAhB,IAAAiB,EAAA,CAAA,IAAAjB,IAAAS,EAAAS,CAAAA,IAAAA,EAAAF,CAAA,EAIC,GAAAG,GAAAnB,EAAA,EAAAS,EAAA,CAAA,IAAAE,EAAAS,CAAA,EAAAP,WAAAC,CAAAA,YAAAC,eAAAA,YAIC,cAAA,CAAA,EAAA,CAAA,WAAA,CAAA,GAAAM,GAAArB,EAAA,EAAAS,EAAAE,CAAAA,IAAAA,EAAAW,IAAAT,WAAAC,CAAAA,YAAAC,gBAAAA,YAMG,cAAA,CAAA,EAAA,CAAA,4FAAA,CAAA,GAAAQ,GAAAvB,EAAAS,EAAAA,EAAAE,CAAAA,IAAAA,EAAAW,IAAAT,WAAAC,CAAAA,YAAAC,iBAAAA,YASvBS,cAAAA,CAAAA,EAAAA,CAAAA,0FAAAA,CAAAA,GAAAA,GAAAA,IAAAA,EAAAA,CAAAA,IAAAA,EAAAA,CAAAA,EAAAA,WAAAA,CAAAA,YAAAA,gBAAAA,gLAMUC,GAAAzB,EAAAS,EAAAA,EAAAiB,CAAAA,IAAAA,aAGNC,CAAAA,CAAAA,MAAAA,EAAEC,QAAAA,EACRC,OAAAA,EAAMC,KAAAA,GAAA9B,EAAA+B,EAAAA,EAAArC,CAAAA,EAAAA,CAAAA,IAAAA,EAAAG,IAAEmC,SAAAA,EAAqBC,UAAAA,EACdL,GAAAA,CAEQ,EAAAM,IAAAlC,CAAAA,EAAA,EAAAiB,EAOvB,CAAA,IAAA,KAAA,CAAAW,mBAAAA,CAAA,GAAA5B,EAAA,EAAAS,EAAA,CAAA,IAAA0B,aAAAC,CAAA,GAcY,CAAAJ,OAAAA,CAAA,GAAAhC,IAAAS,EAAA,CAAA,IAAA4B,EAAA,CAAAC,YAAAV,EACEW,iBAEAC,GAAAA,oBAIW,EAAA,CAAA,GAGVC,GAAAzC,EAAAS,EAAAA,EAAAiC,EAAAA,IAAAA,EAAAlB,CAAA,GAAAxB,OAAAA,EAAA,EAAAS,EAAA,EAAA,IAEgDkC,EAAA,EAAA3C,EAAA,EAAAS,EAAA,EAAA,IAUjEmC,EAAA,IAAAC,EAAA,CAAAC,SAAAF,EAAAA,IAAAZ,EAAA,CAAAc,SAAAF,MAAAG,EAAA,CAAAC,SAAAF,GAAAA,SAAAF,EAAAA,IAAAK,EAAAC,CAAAA,cAAAA,iBAAAA,UAAAJ,SAAAA,SAAAK,EAAAA,KAAAzC,GAAAwB,IAAAkB,EAAAX,EAAAP,CAAA,EAAAlB,UAAAR,EAAAsB,CAAA,EAAAG,UAAAoB,EAAAC,EAAArB,EAAA,eAAA,EAAAsB,UAAA,EAAAC,OAAA,KAAAC,UAAA,GAAA,GAAAC,EAAAZ"}