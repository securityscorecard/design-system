{"version":3,"file":"Table.stories-DzEVK8Po.js","sources":["../../../src/components/Datatable/Table/Table.stories.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Meta, StoryFn } from '@storybook/react';\nimport { MemoryRouter } from 'react-router-dom';\nimport { omit } from 'ramda';\nimport MockDate from 'mockdate';\n\nimport Table from './Table';\nimport { TableProps } from './Table.types';\nimport { Data } from '../../_internal/BaseTable/mocks/types';\nimport assets from '../../_internal/BaseTable/mocks/ipAssets.json';\nimport { defaultTableConfig } from '../defaultConfigs';\nimport { simpleColumns } from '../../_internal/BaseTable/mocks/columns';\nimport { datatableRowActions } from '../mocks/actions';\nimport { DatatableStore, datatableInitialState } from '../Datatable.store';\n\nMockDate.set('2021-03-31T00:00:00Z');\n\nexport default {\n  title: 'components/Datatable/internalComponents/Table',\n  component: Table,\n  parameters: {\n    viewMode: 'story',\n    screenshot: {\n      viewport: {\n        width: 1820,\n        height: 720,\n      },\n    },\n  },\n  argTypes: {\n    data: { controls: { type: 'disabled' } },\n  },\n  decorators: [(storyFn) => <MemoryRouter>{storyFn()}</MemoryRouter>],\n} as Meta;\n\ntype Story = StoryFn<TableProps<Data>>;\n\nconst TableTemplate: Story = (args) => <Table<Data> {...args} />;\n\nexport const Playground: Story = (args) => <TableTemplate {...args} />;\n\nPlayground.args = {\n  ...omit(['onSelect'], defaultTableConfig),\n  data: assets.slice(0, 50),\n  dataSize: assets.length,\n  columns: simpleColumns,\n  defaultSelectedRows: {},\n};\n\nexport const MinimalConfig = TableTemplate.bind({});\nMinimalConfig.args = {\n  ...omit(['onSelect'], defaultTableConfig),\n  data: assets.slice(0, 50),\n  columns: simpleColumns,\n  dataSize: assets.length,\n  defaultSelectedRows: {},\n};\n\nexport const WithDisabledSelection = TableTemplate.bind({});\nWithDisabledSelection.args = {\n  ...MinimalConfig.args,\n  hasSelection: false,\n};\n\nexport const WithRowActions = TableTemplate.bind({});\nWithRowActions.args = {\n  ...MinimalConfig.args,\n  rowActions: datatableRowActions,\n};\n\nexport const WithSelectedRows = TableTemplate.bind({});\nWithSelectedRows.args = {\n  ...MinimalConfig.args,\n  defaultSelectedRows: { 1: true, 6: true, 24: true },\n};\n\nexport const WithExclusiveSelection: Story = (args) => {\n  useEffect(() => {\n    DatatableStore.update((s) => {\n      s.hasExclusiveSelection = true;\n    });\n\n    return () => {\n      DatatableStore.replace(datatableInitialState);\n    };\n  });\n\n  return <Table<Data> {...args} />;\n};\nWithExclusiveSelection.args = MinimalConfig.args;\n\nexport const WithSingleSelection = TableTemplate.bind({});\nWithSingleSelection.args = {\n  ...MinimalConfig.args,\n  isMultiSelect: false,\n};\n\nexport const WithSingleSelectionAndSelectedRow = TableTemplate.bind({});\nWithSingleSelectionAndSelectedRow.args = {\n  ...MinimalConfig.args,\n  isMultiSelect: false,\n  defaultSelectedRows: { 1: true },\n};\n\nexport const WithoutSorting = TableTemplate.bind({});\nWithoutSorting.args = {\n  ...MinimalConfig.args,\n  hasSorting: false,\n};\n\nexport const WithSortedColumn = TableTemplate.bind({});\nWithSortedColumn.args = {\n  ...MinimalConfig.args,\n  defaultSortBy: [\n    { id: 'ipAddress', desc: true },\n    { id: 'status', desc: false },\n  ],\n};\n\nexport const WithCustomPageSize = TableTemplate.bind({});\nWithCustomPageSize.args = {\n  ...MinimalConfig.args,\n  data: assets.slice(0, 50),\n  defaultPageSize: 5,\n  hasServerSidePagination: false,\n};\n\nexport const WithNoData = TableTemplate.bind({});\nWithNoData.args = {\n  ...MinimalConfig.args,\n  data: [],\n  dataSize: 0,\n};\nexport const WithNoDataCustom = TableTemplate.bind({});\nWithNoDataCustom.storyName = 'With No Data (custom component)';\nWithNoDataCustom.args = {\n  ...WithNoData.args,\n  NoDataComponent: () => <div>We do not have any data</div>,\n};\n\nexport const WithNoMatchingData: Story = (args) => {\n  useEffect(() => {\n    DatatableStore.replace(datatableInitialState);\n    DatatableStore.update((s) => {\n      s.hasAppliedFilters = true;\n    });\n\n    return () => {\n      DatatableStore.replace(datatableInitialState);\n    };\n  }, []);\n\n  return <Table<Data> {...args} />;\n};\nWithNoMatchingData.args = WithNoData.args;\n\nexport const WithNoMatchingDataCustom: Story = (args) => {\n  useEffect(() => {\n    DatatableStore.replace(datatableInitialState);\n    DatatableStore.update((s) => {\n      s.hasAppliedFilters = true;\n    });\n\n    return () => {\n      DatatableStore.replace(datatableInitialState);\n    };\n  }, []);\n\n  return <Table<Data> {...args} />;\n};\nWithNoMatchingDataCustom.storyName = 'With No Matching Data (custom component)';\nWithNoMatchingDataCustom.args = {\n  ...WithNoData.args,\n  NoMatchingDataComponent: () => <div>No data match your current filters</div>,\n};\n\nexport const DataIsLoadingWithoutPreviousData = TableTemplate.bind({});\nDataIsLoadingWithoutPreviousData.args = {\n  ...WithNoData.args,\n  isDataLoading: true,\n};\n\nexport const DataIsLoadingWithPreviousData = TableTemplate.bind({});\nDataIsLoadingWithPreviousData.args = {\n  ...MinimalConfig.args,\n  isDataLoading: true,\n};\n\nexport const DataIsLoadingWithPreviousDataAndIsCancelable = TableTemplate.bind(\n  {},\n);\nDataIsLoadingWithPreviousDataAndIsCancelable.args = {\n  ...MinimalConfig.args,\n  isDataLoading: true,\n  isCancelDisabled: false,\n  onCancelLoading: () => null,\n};\n\nexport const WithSinglePage = TableTemplate.bind({});\nWithSinglePage.args = {\n  ...MinimalConfig.args,\n  dataSize: 50,\n};\n"],"names":["title","set","parameters","Table_stories","viewMode","screenshot","viewport","width","height","argTypes","data","controls","type","decorators","storyFn","MemoryRouter","TableTemplate","args","jsx","Table","columns","simpleColumns","defaultTableConfig","defaultSelectedRows","dataSize","assets","length","MinimalConfig","bind","slice","hasSelection","WithRowActions","rowActions","datatableRowActions","WithSelectedRows","useEffect","DatatableStore","WithExclusiveSelection","datatableInitialState","s","hasExclusiveSelection","isMultiSelect","WithoutSorting","hasSorting","defaultSortBy","id","desc","WithSortedColumn","defaultPageSize","WithCustomPageSize","WithNoData","WithNoDataCustom","NoDataComponent","update","WithNoMatchingData","Data","replace","WithNoMatchingDataCustom","hasAppliedFilters","isDataLoading","storyName","NoMatchingDataComponent","isCancelDisabled","WithSinglePage","DataIsLoadingWithPreviousData"],"mappings":"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"}