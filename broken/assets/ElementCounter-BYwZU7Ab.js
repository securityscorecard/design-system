import{j as e}from"./jsx-runtime-Nms4Y4qS.js";import{r as b}from"./index-BwDkhjyp.js";import{P as c}from"./index-Dk74W0Oi.js";import{L as _,s as E,g as w,S as N,G as h,k as g,h as P,X as q,K as m}from"./space-B9R18Mwn.js";import{T as z}from"./Text-C1sA-5dj.js";import{c as D}from"./Heading-Doa2oxzU.js";import{D as W}from"./DropdownMenu-BTsEoeHW.js";import"./DropdownMenu.types-B7-2fpHE.js";import{I as y,S as C}from"./Icon-B7DxM8PH.js";import{D as p}from"./Datatable.store-C2OZ8Th5.js";import"./Surface-Cs7tekjF.js";import"./Padbox-BrtZqAZY.js";import"./Stack-B_iJg7G-.js";import{I as $}from"./Inline-Cavohj9s.js";import"./Cluster-f2eLrBJy.js";import"./DSProvider-DzIDhM_J.js";import"./theme-BW2FcxSF.js";import"./index-DFvsTZbx.js";import{b as A}from"./both-CuwR4I11.js";import{l as B}from"./lt-8WxB2gIi.js";var d=A(_,B(0));const j=E.button.withConfig({displayName:"ElementCounter__SelectionButton",componentId:"sc-1m6rn0t-0"})(["display:inline-flex;align-self:center;justify-content:center;background:transparent;border:none;cursor:pointer;height:100%;padding:",";font-size:",";color:",";&:hover{color:",";}"],w(N.xs),h("lg"),g("neutral.800"),g("primary.500")),I=(t,o=0)=>e.jsx("span",{"data-testid":"counter-content",children:d(o)&&d(t)?`${m(o)} of ${m(t)} selected`:d(t)?m(t):"No data"});function r({children:t,...o}){return e.jsx($,{align:"center",gap:N.xs,...o,children:t})}r.displayName="ElementCounterWrapper";const u=E(z).attrs(()=>({size:"md",margin:"none",variant:D.secondary})).withConfig({displayName:"ElementCounter__CounterText",componentId:"sc-1m6rn0t-1"})(["line-height:",";"],P(24)),S=({dataSize:t,hasSelection:o,hasOnlyPerPageSelection:v})=>{const f=q(),{selectedIds:s,hasExclusiveSelection:T}=p.useState(n=>({selectedIds:n.selectedIds,hasExclusiveSelection:n.hasExclusiveSelection})),[i,l]=b.useState(s.length||0);b.useEffect(()=>{l(s.length)},[s]);const R=T?t-i:i,a=I(t,R),k=()=>{l(0),p.update(n=>{n.hasExclusiveSelection=!0,n.shouldResetSelectedRows=!0})},x=()=>{l(0),p.update(n=>{n.hasExclusiveSelection=!1,n.shouldResetSelectedRows=!0})};return o?v?e.jsxs(r,{children:[e.jsx(u,{children:a}),i>0&&e.jsx(j,{"aria-label":"Select None",title:"Select None",type:"button",onClick:x,children:e.jsx(y,{name:C.times,style:{fontSize:h("md",{theme:f})}})})]}):e.jsxs(r,{children:[e.jsx(u,{children:a}),t>0&&e.jsx(W,{actions:[{name:"select-all",label:"Select All",onClick:k},{name:"select-none",label:"Select None",onClick:x}],paneWidth:140,children:e.jsx(j,{"aria-label":"Selection options",onClick:n=>{n.preventDefault()},children:e.jsx(y,{"data-testid":"selection-dropdown",name:C.angleDown,style:{fontSize:h("md",{theme:f})}})})})]}):e.jsx(r,{children:e.jsx(u,{children:a})})};S.propTypes={dataSize:c.number.isRequired,hasSelection:c.bool.isRequired,hasOnlyPerPageSelection:c.bool.isRequired};const ie=S;I.__docgenInfo={description:"",methods:[],displayName:"getCounterContent"};S.__docgenInfo={description:"",methods:[],displayName:"ElementCounter",props:{dataSize:{required:!0,tsType:{name:"number"},description:"",type:{name:"number"}},hasSelection:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}},hasOnlyPerPageSelection:{required:!0,tsType:{name:"boolean"},description:"",type:{name:"bool"}}}};export{ie as E};
