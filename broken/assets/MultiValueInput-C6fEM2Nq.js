import{j as d}from"./jsx-runtime-Nms4Y4qS.js";import{r as w}from"./index-BwDkhjyp.js";import{B as oe,w as pe,ae as ce,Q as O,_ as C,$ as E,a1 as $,a3 as de,a9 as fe,af as H,s as h,E as o,r as L,A as b,g as M,S as q,F as me,G as F,h as P,j as ve,p as ye,a8 as ge,m as he,ah as Ve,i as Ie}from"./space-B9R18Mwn.js";import{P as i}from"./index-Dk74W0Oi.js";import{u as _e,i as be}from"./index-BFi_qJcR.js";import{c as Ce}from"./index-CVyJwDg7.js";import"./Surface-Cs7tekjF.js";import{P as xe}from"./Padbox-BrtZqAZY.js";import"./Stack-B_iJg7G-.js";import{I as we}from"./Inline-Cavohj9s.js";import"./Cluster-f2eLrBJy.js";import{I as Me,S as Pe}from"./Icon-B7DxM8PH.js";import"./DSProvider-DzIDhM_J.js";import"./theme-BW2FcxSF.js";import"./index-DFvsTZbx.js";import{P as Se}from"./Pill-CwiyUbuD.js";import{i as S}from"./isNonEmptyArray-WRg_f07P.js";import{i as Te}from"./isEmptyArray-B-_3gajU.js";import{n as g}from"./noop-Bk6XfTLC.js";import{i as T}from"./isNonEmptyString-Dt8hjEzN.js";import{a as Ee}from"./isNotNull-C0-yEnlk.js";import{i as B}from"./useLogger-D4I9buOf.js";import{t as Le}from"./trim-C3a3l8W7.js";import{t as qe}from"./take-B9V3Rq9C.js";var Be=oe(function(n){return pe(n.length,function(){var t=0,r=arguments[0],l=arguments[arguments.length-1],s=Array.prototype.slice.call(arguments,0);return s[0]=function(){var u=r.apply(this,ce(arguments,[t,l]));return t+=1,u},n.apply(this,s)})}),X=function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(n){return!R(n,!0,this)},e.prototype.has=function(n){return R(n,!1,this)},e}();function R(e,n,t){var r=typeof e,l,s;switch(r){case"string":case"number":return e===0&&1/e===-1/0?t._items["-0"]?!0:(n&&(t._items["-0"]=!0),!1):t._nativeSet!==null?n?(l=t._nativeSet.size,t._nativeSet.add(e),s=t._nativeSet.size,s===l):t._nativeSet.has(e):r in t._items?e in t._items[r]?!0:(n&&(t._items[r][e]=!0),!1):(n&&(t._items[r]={},t._items[r][e]=!0),!1);case"boolean":if(r in t._items){var u=e?1:0;return t._items[r][u]?!0:(n&&(t._items[r][u]=!0),!1)}else return n&&(t._items[r]=e?[!1,!0]:[!0,!1]),!1;case"function":return t._nativeSet!==null?n?(l=t._nativeSet.size,t._nativeSet.add(e),s=t._nativeSet.size,s===l):t._nativeSet.has(e):r in t._items?O(e,t._items[r])?!0:(n&&t._items[r].push(e),!1):(n&&(t._items[r]=[e]),!1);case"undefined":return t._items[r]?!0:(n&&(t._items[r]=!0),!1);case"object":if(e===null)return t._items.null?!0:(n&&(t._items.null=!0),!1);default:return r=Object.prototype.toString.call(e),r in t._items?O(e,t._items[r])?!0:(n&&t._items[r].push(e),!1):(n&&(t._items[r]=[e]),!1)}}function De(e,n){return qe(e<n.length?n.length-e:0,n)}var je=function(){function e(n,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(n)}return e.prototype["@@transducer/init"]=E.init,e.prototype["@@transducer/result"]=function(n){return this.acc=null,this.xf["@@transducer/result"](n)},e.prototype["@@transducer/step"]=function(n,t){return this.full&&(n=this.xf["@@transducer/step"](n,this.acc[this.pos])),this.store(t),n},e.prototype.store=function(n){this.acc[this.pos]=n,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),Ne=C(function(n,t){return new je(n,t)}),ke=C($([],Ne,De)),ze=function(){function e(n,t){this.xf=t,this.f=n,this.set=new X}return e.prototype["@@transducer/init"]=E.init,e.prototype["@@transducer/result"]=E.result,e.prototype["@@transducer/step"]=function(n,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](n,t):n},e}(),Oe=C(function(n,t){return new ze(n,t)}),Re=C($([],Oe,function(e,n){for(var t=new X,r=[],l=0,s,u;l<n.length;)u=n[l],s=e(u),t.add(s)&&r.push(u),l+=1;return r})),$e=Re(de),He=Be(fe),Fe=H(function(e,n,t){return B(t,e)}),Xe=H(function(e,n){return He(Fe(e),n)});const _=(e,n)=>b(["box-shadow:inset 0 0 0 "," ",";"],o(e),o(n)),Ke=h.div.withConfig({displayName:"MultiValueInput__Control",componentId:"sc-vz7dlm-0"})(["display:flex;flex-direction:column;justify-content:center;min-height:",";background:",";border-radius:",";",";&:focus-within,&.focus-within{outline:0;border-color:",";",";}",";",";"],o("fieldHeight"),o("bgColor"),L("default"),_("borderWidth","borderColor"),o("focusBorderColor"),_("statefulBorderWidth","focusBorderColor"),({$isDisabled:e})=>e&&b(["background:",";",";"],o("disabledBgColor"),_("borderWidth","disabledBorderColor")),({$isInvalid:e})=>e&&b(["&&{border-color:",";",";}"],o("invalidBorderColor"),_("statefulBorderWidth","invalidBorderColor"))),We=h(xe).withConfig({displayName:"MultiValueInput__ValueContainer",componentId:"sc-vz7dlm-1"})(["display:flex;flex-wrap:wrap;gap:",";padding-left:",";overflow:hidden;flex:1 1 0%;",";"],M("xs"),M(q.md),({$hasValue:e,theme:n})=>e&&b(["padding-left:",";"],M(q.xs,{theme:n}))),Ue=h.div.withConfig({displayName:"MultiValueInput__InputContainer",componentId:"sc-vz7dlm-2"})(["display:inline-grid;grid-area:1 / 1 / 2 / 3;grid-template-columns:0 min-content;line-height:",";flex:1 1 auto;&::after{content:attr(data-value) ' ';visibility:hidden;white-space:pre;grid-area:1 / 2 / auto / auto;min-width:2px;}"],o("fieldLineHeight")),Ge=h.input.withConfig({displayName:"MultiValueInput__InputField",componentId:"sc-vz7dlm-3"})(["grid-area:1 / 2 / auto / auto;background:transparent;border:0 none;color:",";font-family:",";font-size:",";line-height:",";outline:none;min-width:2px;width:100%;&::-ms-clear{display:none;}"],o("color"),me("base"),F("md"),o("fieldLineHeight")),Qe=h.button.withConfig({displayName:"MultiValueInput__ClearButton",componentId:"sc-vz7dlm-4"})(["display:flex;justify-content:center;align-items:center;color:",";background:transparent none;border:0 none;cursor:pointer;font-size:",";padding:",";height:",";margin:",";outline-offset:0;border-top-right-radius:",";border-bottom-right-radius:",";&:hover{color:",";}"],o("indicatorColor"),F("lg"),P(0,18),P(34),P(1,0),L("default"),L("default"),o("hoverIndicatorColor")),D=({value:e=[],isInvalid:n=!1,isDisabled:t=!1,isClearable:r=!0,onValueAdd:l=g,onValueRemove:s=g,onValuesChange:u=g,onInputChange:K=g,onPaste:W=g,placeholder:j,valuesDelimiter:N=";",pattern:U,id:G,inputId:Q,inputValue:A="",maxPillLabelLength:J=16,className:Y,...Z})=>{const[p,f]=w.useState(e),[y,k]=w.useState(A),[m,ee]=w.useState(null),V=a=>{if(!(m==null?void 0:m.checkValidity())||B(a,p))return;if(B(N,a)){const v=ye(Ve(N),he(Le),ge(T))(a),x=[...p,...v];f($e(x)),l(v,x),u(x)}else{const v=[...p,a];f(v),l([a],v),u(v)}k("")},z=a=>{f(c=>{const I=Ie(a)?Xe([a],c):ke(1,c);return s(I),u(I),I})};_e(()=>{f(e)},[e,f]);const te=a=>{switch(a.key){case";":case"Enter":if(a.preventDefault(),n)return;T(y)&&V(a.target.value);break;case"Backspace":case"Delete":be(y)&&S(p)&&z();break}},ne=a=>{a.preventDefault();const c=W(a);V(typeof c=="string"?c:(a.clipboardData||window.clipboardData).getData("text"))},ae=a=>{K(a),k(a.target.value)},re=a=>{a.preventDefault(),!n&&T(y)&&V(a.target.value)},ie=a=>{a.preventDefault(),Ee(m)&&m.focus()},se=()=>{f([]),s([]),u([])},ue=a=>{switch(a.key){case" ":case"Enter":a.preventDefault(),f([]),s([]),u([]),m.focus();break}},le=a=>()=>{z(a),m.focus()};return d.jsx(Ke,{$isDisabled:t,$isInvalid:n,className:Ce(ve,Y),"data-testid":"multivalueinputContainer",id:G,onClick:ie,children:d.jsxs(we,{align:"center",justify:"space-between",children:[d.jsxs(We,{$hasValue:S(p),paddingSize:q.xs,style:{overflow:"hidden"},children:[p.map((a,c)=>d.jsx(Se,{label:a,maxLabelLength:J,onRemove:t?void 0:le(c)},a)),d.jsx(Ue,{"data-value":y||j,children:d.jsx(Ge,{...Z,ref:ee,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",disabled:t,id:Q,pattern:U,placeholder:Te(p)?j:void 0,spellCheck:"false",type:"text",value:y,onBlur:re,onChange:a=>ae(a),onKeyDown:te,onPaste:ne})})]}),r&&!t&&S(p)&&d.jsx(Qe,{"aria-label":"Clear all values",type:"reset",onClick:se,onKeyDown:ue,children:d.jsx(Me,{name:Pe.times})})]})})};D.propTypes={value:i.arrayOf(i.string),isInvalid:i.bool,isDisabled:i.bool,isClearable:i.bool,className:i.string,placeholder:i.string,id:i.string,inputId:i.string,inputValue:i.string,valuesDelimiter:i.string,maxPillLabelLength:i.number,onValueAdd:i.func,onValueRemove:i.func,onValuesChange:i.func,onInputChange:i.func,onPaste:i.func};const _t=D;D.__docgenInfo={description:"",methods:[],displayName:"MultiValueInput",props:{value:{required:!1,tsType:{name:"Array",elements:[{name:"MultiValueProps['label']",raw:"MultiValueProps['label']"}],raw:"Array<MultiValueProps['label']>"},description:"",defaultValue:{value:"[]",computed:!1},type:{name:"arrayOf",value:{name:"string"}}},isInvalid:{required:!1,tsType:{name:"ValueContainerProps['$isInvalid']",raw:"ValueContainerProps['$isInvalid']"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},isDisabled:{required:!1,tsType:{name:"ValueContainerProps['$isDisabled']",raw:"ValueContainerProps['$isDisabled']"},description:"",defaultValue:{value:"false",computed:!1},type:{name:"bool"}},isClearable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1},type:{name:"bool"}},placeholder:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},id:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},inputId:{required:!1,tsType:{name:"string"},description:"",type:{name:"string"}},inputValue:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1},type:{name:"string"}},valuesDelimiter:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"';'",computed:!1},type:{name:"string"}},maxPillLabelLength:{required:!1,tsType:{name:"MultiValueProps['maxLength']",raw:"MultiValueProps['maxLength']"},description:"",defaultValue:{value:"16",computed:!1},type:{name:"number"}},onValueAdd:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  addedValues: MultiValueInputProps['value'],
  nextValues: MultiValueInputProps['value'],
) => void`,signature:{arguments:[{type:{name:"MultiValueInputProps['value']",raw:"MultiValueInputProps['value']"},name:"addedValues"},{type:{name:"MultiValueInputProps['value']",raw:"MultiValueInputProps['value']"},name:"nextValues"}],return:{name:"void"}}},description:"",defaultValue:{value:"noop",computed:!0},type:{name:"func"}},onValueRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(nextValues: MultiValueInputProps['value']) => void",signature:{arguments:[{type:{name:"MultiValueInputProps['value']",raw:"MultiValueInputProps['value']"},name:"nextValues"}],return:{name:"void"}}},description:"",defaultValue:{value:"noop",computed:!0},type:{name:"func"}},onValuesChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(nextValues: MultiValueInputProps['value']) => void",signature:{arguments:[{type:{name:"MultiValueInputProps['value']",raw:"MultiValueInputProps['value']"},name:"nextValues"}],return:{name:"void"}}},description:"",defaultValue:{value:"noop",computed:!0},type:{name:"func"}},onInputChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:"",defaultValue:{value:"noop",computed:!0},type:{name:"func"}},onPaste:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ClipboardEvent<HTMLInputElement>) => void | string",signature:{arguments:[{type:{name:"ReactClipboardEvent",raw:"React.ClipboardEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"union",raw:"void | string",elements:[{name:"void"},{name:"string"}]}}},description:"",defaultValue:{value:"noop",computed:!0},type:{name:"func"}},className:{description:"",type:{name:"string"},required:!1}}};export{_t as M};
