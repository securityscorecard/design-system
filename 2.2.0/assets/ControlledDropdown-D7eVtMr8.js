import{j as y}from"./jsx-runtime-Cw0GR0a5.js";import{r as s}from"./index-CTjT7uj6.js";import{P as a}from"./index-BRV0Se7Z.js";import{X as j,i as W,s as S,g as u,S as d,k as p,q as D,a7 as T,A as C,h as L,P as E}from"./space-1LtLrmuu.js";import{a as M}from"./DSProvider-IYcK3cWD.js";import"./DSThemeOverride-BduN1ykm.js";import"./index-DFvsTZbx.js";import"./theme-Cr_I21Pv.js";import{u as F}from"./usePopper-B6Vq3Q19.js";import{u as H,a as B}from"./useOuterCallback-Mi4Xn43N.js";import{n as P}from"./noop-CLoMDX4X.js";import{m as O}from"./mergeRefs-sWHjowoU.js";import"./Surface-DpLLkhSd.js";import{P as X}from"./Padbox-DKEfmyAv.js";import"./Stack-D3Wl5zWT.js";import"./Inline-BUcOfxrg.js";import"./Cluster-DAeUfwZi.js";import{u as K}from"./FloatingContext-C7r7lnEb.js";const he={click:"click",hover:"hover",focus:"focus"},z={auto:"auto",autoStart:"auto-start",autoEnd:"auto-end",top:"top",bottom:"bottom",right:"right",left:"left",topStart:"top-start",topEnd:"top-end",bottomStart:"bottom-start",bottomEnd:"bottom-end",rightStart:"right-start",rightEnd:"right-end",leftStart:"left-start",leftEnd:"left-end"},U=({triggerEl:e,paneEl:t,arrowEl:n,placement:l="bottom-start"})=>{const{space:o}=j(),r=W(n)?[{name:"arrow",options:{element:n}}]:[];return F(e,t,{placement:l,modifiers:[...r,{name:"offset",options:{offset:[0,o.sm]}},{name:"flip",options:{padding:o.sm}}]})},G=({onShow:e=P,onHide:t=P,hasInternalShowHide:n=!1,defaultIsPortalVisible:l=!1}={})=>{const{portalsContainerId:o}=s.useContext(M),{Portal:r,isShow:m,show:c,hide:f,toggle:v}=H({containerId:o,autoRemoveContainer:!1,defaultShow:l,internalShowHide:n,onShow:e,onHide:t});return{togglePortal:v,showPortal:c,hidePortal:f,isPortalVisible:m,Portal:r}},i=S.div.withConfig({displayName:"DropdownPane__Arrow",componentId:"sc-15bzzh5-0"})(["visibility:hidden;&,&::before{position:absolute;width:",";height:",";background:inherit;z-index:0;}&::before{visibility:visible;content:'';background:",";border-left:1px solid ",";border-top:1px solid ",";}"],u(d.sm),u(d.sm),p("neutral.0"),p("neutral.300"),p("neutral.300")),q=S.div.withConfig({displayName:"DropdownPane__StyledDropdownPane",componentId:"sc-15bzzh5-1"})(["position:absolute;color:",";font-family:var(--sscds-font-family-body);font-size:var(--sscds-font-size-body-md);line-height:var(--sscds-font-lineheight-body-md);border-radius:",";border:1px solid ",";z-index:",";"," &[data-popper-placement^='top'] > ","{bottom:",";&:before{transform:rotate(225deg);}}&[data-popper-placement^='bottom'] > ","{top:",";&:before{transform:rotate(45deg);}}&[data-popper-placement^='left'] > ","{right:",";&:before{transform:rotate(135deg);}}&[data-popper-placement^='right'] > ","{left:",";&:before{transform:rotate(315deg);}}",";"],p("neutral.900"),D("default"),p("neutral.300"),({$isInFloatingElement:e,theme:t})=>e?T("modal",{theme:t})+1:T("dropdown",{theme:t}),({$maxWidth:e})=>C(["width:",";max-width:",";"],e==="auto"?"auto":"100%",e==="auto"?"auto":L(e)),i,({theme:e})=>`calc(${u(d.sm,{theme:e})} / -2)`,i,({theme:e})=>`calc(${u(d.sm,{theme:e})} / -2)`,i,({theme:e})=>`calc(${u(d.sm,{theme:e})} / -2)`,i,({theme:e})=>`calc(${u(d.sm,{theme:e})} / -2)`,({$isElevated:e})=>e&&C(["border-color:transparent;filter:drop-shadow(0px 0px 8px rgba(0,0,0,0.25));& > ",":before{border-color:transparent;}"],i)),J=S(X).withConfig({displayName:"DropdownPane__PaneContent",componentId:"sc-15bzzh5-2"})(["border-radius:",";position:relative;z-index:1;background:",";"],D("default"),p("neutral.0")),h=s.forwardRef(({children:e,onClickOut:t=P,isElevated:n,hasArrow:l,arrowRef:o,arrowStyles:r,contentPaddingSize:m,contentPaddingType:c,maxWidth:f,...v},w)=>{const b=B(t),x=K()??!1;return y.jsxs(q,{ref:O(b,w),$isElevated:n,$isInFloatingElement:x,$maxWidth:f,...v,"data-testid":"dropdown-pane",children:[y.jsx(J,{paddingSize:m,paddingType:c,children:e}),l&&y.jsx(i,{ref:o,style:r})]})});h.displayName="DropdownPane";h.propTypes={isElevated:a.bool.isRequired,maxWidth:a.oneOfType([a.number,a.oneOf(["auto"])]).isRequired,hasArrow:a.bool.isRequired,arrowRef:a.func.isRequired,arrowStyles:a.shape({}),contentPaddingSize:a.oneOf(Object.values(d)),contentPaddingType:a.oneOf(Object.values(E)),onClickOut:a.func};try{i.displayName="Arrow",i.__docgenInfo={description:"",displayName:"Arrow",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"SpacingSizeValue"}},padding:{defaultValue:null,description:"",name:"padding",required:!1,type:{name:"SpacingSizeValue"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}}}catch{}try{q.displayName="StyledDropdownPane",q.__docgenInfo={description:"",displayName:"StyledDropdownPane",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<HTMLDivElement>"}},$maxWidth:{defaultValue:null,description:"",name:"$maxWidth",required:!0,type:{name:'number | "auto"'}},$isElevated:{defaultValue:null,description:"",name:"$isElevated",required:!1,type:{name:"boolean"}},$isInFloatingElement:{defaultValue:null,description:"",name:"$isInFloatingElement",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"any"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}}}catch{}try{h.displayName="DropdownPane",h.__docgenInfo={description:"",displayName:"DropdownPane",props:{isElevated:{defaultValue:null,description:"",name:"isElevated",required:!0,type:{name:"boolean"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!0,type:{name:'number | "auto"'}},onClickOut:{defaultValue:null,description:"",name:"onClickOut",required:!1,type:{name:"() => void"}},hasArrow:{defaultValue:null,description:"",name:"hasArrow",required:!0,type:{name:"boolean"}},arrowRef:{defaultValue:null,description:"",name:"arrowRef",required:!0,type:{name:"(el: HTMLElement) => void"}},arrowStyles:{defaultValue:null,description:"",name:"arrowStyles",required:!0,type:{name:"CSSProperties"}},contentPaddingSize:{defaultValue:null,description:"",name:"contentPaddingSize",required:!0,type:{name:"enum",value:[{value:'"none"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"mdPlus"'},{value:'"lg"'},{value:'"lgPlus"'},{value:'"xl"'},{value:'"xlPlus"'},{value:'"xxl"'},{value:'"half-x"'},{value:'"1x"'},{value:'"2x"'},{value:'"3x"'},{value:'"4x"'},{value:'"6x"'},{value:'"8x"'},{value:'"12x"'},{value:'"16x"'},{value:'"24x"'},{value:'"32x"'}]}},contentPaddingType:{defaultValue:null,description:"",name:"contentPaddingType",required:!0,type:{name:"enum",value:[{value:'"square"'},{value:'"squish"'},{value:'"stretch"'}]}}}}}catch{}const Q=`
    a[href],
    button,
    input,
    textarea,
    select,
    details
`,Y=({el:e,enabled:t})=>{s.useEffect(()=>{if(!e||!t)return;const n=document.activeElement,l=o=>{setTimeout(()=>{if(o.key==="Tab"&&!e.contains(document.activeElement)){o.preventDefault();const r=e==null?void 0:e.querySelector(Q);r==null||r.focus()}},0)};return document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l),n==null||n.focus()}},[e,t])},g=s.forwardRef(({children:e,triggerEl:t,isOpen:n,placement:l=z.bottomStart,innerPaddingSize:o=d.md,innerPaddingType:r=E.square,maxPaneWidth:m=270,isPaneElevated:c=!1,hasPaneArrow:f=!1,focusTrap:v=!0,onClickOut:w,style:b={},...x},R)=>{const[_,A]=s.useState(null),[k,N]=s.useState(null),{styles:V,attributes:I}=U({triggerEl:t,paneEl:_,arrowEl:k,placement:l});Y({el:_,enabled:n&&v});const{Portal:$}=G();return n?y.jsx($,{children:y.jsx(h,{ref:O(R,A),arrowRef:N,arrowStyles:V.arrow,contentPaddingSize:o,contentPaddingType:r,hasArrow:f,isElevated:c,maxWidth:m,style:{...V.popper,...b},onClickOut:w,...x,...I.popper,children:e})}):null});g.displayName="ControlledDropdown";g.propTypes={isOpen:a.bool.isRequired,triggerEl:typeof Element>"u"?a.any:a.instanceOf(HTMLElement),placement:a.oneOf(Object.values(z)),innerPaddingSize:a.oneOf(Object.values(d)),innerPaddingType:a.oneOf(Object.values(E)),maxPaneWidth:a.oneOfType([a.number,a.oneOf(["auto"])]),isPaneElevated:a.bool,hasPaneArrow:a.bool,onClickOut:a.func};const ge=g;try{g.displayName="ControlledDropdown",g.__docgenInfo={description:"",displayName:"ControlledDropdown",props:{triggerEl:{defaultValue:null,description:"Reference to trigger element used for calculation of the dropdown pane.",name:"triggerEl",required:!0,type:{name:"HTMLElement"}},isOpen:{defaultValue:null,description:"Boolean that control the dropdown pane visibility.",name:"isOpen",required:!0,type:{name:"boolean"}},focusTrap:{defaultValue:{value:"true"},description:"Boolean that enabled the dropdown pane focus trap.",name:"focusTrap",required:!1,type:{name:"boolean"}},onClickOut:{defaultValue:null,description:"Callback called when user clicks outside the dropdown pane.",name:"onClickOut",required:!1,type:{name:"() => void"}},placement:{defaultValue:{value:"bottom-start"},description:"Alignement of the dropdown pane.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"auto"'},{value:'"auto-start"'},{value:'"auto-end"'},{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},innerPaddingSize:{defaultValue:{value:"md"},description:"Size of padding in the dropdown pane.",name:"innerPaddingSize",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"xxs"'},{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"mdPlus"'},{value:'"lg"'},{value:'"lgPlus"'},{value:'"xl"'},{value:'"xlPlus"'},{value:'"xxl"'},{value:'"half-x"'},{value:'"1x"'},{value:'"2x"'},{value:'"3x"'},{value:'"4x"'},{value:'"6x"'},{value:'"8x"'},{value:'"12x"'},{value:'"16x"'},{value:'"24x"'},{value:'"32x"'}]}},innerPaddingType:{defaultValue:{value:"square"},description:"Type of padding in the dropdown pane.",name:"innerPaddingType",required:!1,type:{name:"enum",value:[{value:'"square"'},{value:'"squish"'},{value:'"stretch"'}]}},maxPaneWidth:{defaultValue:{value:"270"},description:`Maximal width of the dropdown pane. When set to 'auto',
the pane width is controlled by it's content.`,name:"maxPaneWidth",required:!1,type:{name:'number | "auto"'}},isPaneElevated:{defaultValue:{value:"false"},description:"Should have the dropdown pane box shadow.",name:"isPaneElevated",required:!1,type:{name:"boolean"}},hasPaneArrow:{defaultValue:{value:"false"},description:"Should show arrow tip pointing to the center of trigger element.",name:"hasPaneArrow",required:!1,type:{name:"boolean"}}}}}catch{}export{ge as C,z as D,he as a};
