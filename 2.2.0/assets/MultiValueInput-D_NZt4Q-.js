import{j as f}from"./jsx-runtime-Cw0GR0a5.js";import{r as S}from"./index-CTjT7uj6.js";import{z as oe,v as ue,a9 as pe,K as R,_ as I,R as j,U as K,Z as de,a3 as fe,aa as X,s as g,B as u,q as N,A as x,g as q,S as k,h as B,j as ce,p as me,a2 as he,V as ve,ad as ye,i as ge}from"./space-1LtLrmuu.js";import{P as i}from"./index-BRV0Se7Z.js";import{u as _e,i as be}from"./index-CJIF_j5S.js";import{c as Ve}from"./index-C7IrpltL.js";import"./Surface-DpLLkhSd.js";import{P as xe}from"./Padbox-DKEfmyAv.js";import"./Stack-D3Wl5zWT.js";import{I as Ce}from"./Inline-BUcOfxrg.js";import"./Cluster-DAeUfwZi.js";import{I as Ie,S as we}from"./Icon-4JNizDXH.js";import"./DSProvider-IYcK3cWD.js";import"./DSThemeOverride-BduN1ykm.js";import"./index-DFvsTZbx.js";import"./theme-Cr_I21Pv.js";import{P as Se}from"./Pill-3kaa-68-.js";import{i as D}from"./isNonEmptyArray-CGykYah7.js";import{i as qe}from"./isEmptyArray-9kLVyzWX.js";import{n as y}from"./noop-CLoMDX4X.js";import{i as z}from"./isNonEmptyString-zJHoJ8N4.js";import{a as Be}from"./isNotNull-B1xFkUZ3.js";import{i as L}from"./useLogger-Cd66DVRc.js";import{t as De}from"./trim-C2DDSsAv.js";import{t as ze}from"./take-Kg9EtPoO.js";var je=oe(function(n){return ue(n.length,function(){var t=0,r=arguments[0],o=arguments[arguments.length-1],s=Array.prototype.slice.call(arguments,0);return s[0]=function(){var l=r.apply(this,pe(arguments,[t,o]));return t+=1,l},n.apply(this,s)})}),$=function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(n){return!T(n,!0,this)},e.prototype.has=function(n){return T(n,!1,this)},e}();function T(e,n,t){var r=typeof e,o,s;switch(r){case"string":case"number":return e===0&&1/e===-1/0?t._items["-0"]?!0:(n&&(t._items["-0"]=!0),!1):t._nativeSet!==null?n?(o=t._nativeSet.size,t._nativeSet.add(e),s=t._nativeSet.size,s===o):t._nativeSet.has(e):r in t._items?e in t._items[r]?!0:(n&&(t._items[r][e]=!0),!1):(n&&(t._items[r]={},t._items[r][e]=!0),!1);case"boolean":if(r in t._items){var l=e?1:0;return t._items[r][l]?!0:(n&&(t._items[r][l]=!0),!1)}else return n&&(t._items[r]=e?[!1,!0]:[!0,!1]),!1;case"function":return t._nativeSet!==null?n?(o=t._nativeSet.size,t._nativeSet.add(e),s=t._nativeSet.size,s===o):t._nativeSet.has(e):r in t._items?R(e,t._items[r])?!0:(n&&t._items[r].push(e),!1):(n&&(t._items[r]=[e]),!1);case"undefined":return t._items[r]?!0:(n&&(t._items[r]=!0),!1);case"object":if(e===null)return t._items.null?!0:(n&&(t._items.null=!0),!1);default:return r=Object.prototype.toString.call(e),r in t._items?R(e,t._items[r])?!0:(n&&t._items[r].push(e),!1):(n&&(t._items[r]=[e]),!1)}}function Ne(e,n){return ze(e<n.length?n.length-e:0,n)}var ke=function(){function e(n,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(n)}return e.prototype["@@transducer/init"]=j.init,e.prototype["@@transducer/result"]=function(n){return this.acc=null,this.xf["@@transducer/result"](n)},e.prototype["@@transducer/step"]=function(n,t){return this.full&&(n=this.xf["@@transducer/step"](n,this.acc[this.pos])),this.store(t),n},e.prototype.store=function(n){this.acc[this.pos]=n,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),Le=I(function(n,t){return new ke(n,t)}),Me=I(K([],Le,Ne)),Pe=function(){function e(n,t){this.xf=t,this.f=n,this.set=new $}return e.prototype["@@transducer/init"]=j.init,e.prototype["@@transducer/result"]=j.result,e.prototype["@@transducer/step"]=function(n,t){return this.set.add(this.f(t))?this.xf["@@transducer/step"](n,t):n},e}(),Ee=I(function(n,t){return new Pe(n,t)}),Oe=I(K([],Ee,function(e,n){for(var t=new $,r=[],o=0,s,l;o<n.length;)l=n[o],s=e(l),t.add(s)&&r.push(l),o+=1;return r})),Re=Oe(de),Te=je(fe),Ke=X(function(e,n,t){return L(t,e)}),Xe=X(function(e,n){return Te(Ke(e),n)});const V=(e,n)=>x(["box-shadow:inset 0 0 0 "," ",";"],u(e),u(n)),$e=g.div.withConfig({displayName:"MultiValueInput__Control",componentId:"sc-vz7dlm-0"})(["display:flex;flex-direction:column;justify-content:center;min-height:",";background:",";border-radius:",";",";&:focus-within,&.focus-within{outline:0;border-color:",";",";}",";",";"],u("fieldHeight"),u("bgColor"),N("default"),V("borderWidth","borderColor"),u("focusBorderColor"),V("statefulBorderWidth","focusBorderColor"),({$isDisabled:e})=>e&&x(["background:",";",";"],u("disabledBgColor"),V("borderWidth","disabledBorderColor")),({$isInvalid:e})=>e&&x(["&&{border-color:",";",";}"],u("invalidBorderColor"),V("statefulBorderWidth","invalidBorderColor"))),Fe=g(xe).withConfig({displayName:"MultiValueInput__ValueContainer",componentId:"sc-vz7dlm-1"})(["display:flex;flex-wrap:wrap;gap:",";padding-left:",";overflow:hidden;flex:1 1 0%;",";"],q("xs"),q(k.md),({$hasValue:e,theme:n})=>e&&x(["padding-left:",";"],q(k.xs,{theme:n}))),Ue=g.div.withConfig({displayName:"MultiValueInput__InputContainer",componentId:"sc-vz7dlm-2"})(["display:inline-grid;grid-area:1 / 1 / 2 / 3;grid-template-columns:0 min-content;line-height:var(--sscds-font-lineheight-body-md);flex:1 1 auto;&::after{content:attr(data-value) ' ';visibility:hidden;white-space:pre;grid-area:1 / 2 / auto / auto;min-width:2px;}"]),We=g.input.withConfig({displayName:"MultiValueInput__InputField",componentId:"sc-vz7dlm-3"})(["grid-area:1 / 2 / auto / auto;background:transparent;border:0 none;color:",";font-family:var(--sscds-font-family-body);font-size:var(--sscds-font-size-body-md);line-height:var(--sscds-font-lineheight-body-md);outline:none;min-width:2px;width:100%;&::-ms-clear{display:none;}"],u("color")),He=g.button.withConfig({displayName:"MultiValueInput__ClearButton",componentId:"sc-vz7dlm-4"})(["display:flex;justify-content:center;align-items:center;color:",";background:transparent none;border:0 none;cursor:pointer;font-size:var(--sscds-font-size-elementlabel-md);padding:",";height:",";margin:",";outline-offset:0;border-top-right-radius:",";border-bottom-right-radius:",";&:hover{color:",";}"],u("indicatorColor"),B(0,18),B(34),B(1,0),N("default"),N("default"),u("hoverIndicatorColor")),C=({value:e=[],isInvalid:n=!1,isDisabled:t=!1,isClearable:r=!0,onValueAdd:o=y,onValueRemove:s=y,onValuesChange:l=y,onInputChange:F=y,onPaste:U=y,placeholder:M,valuesDelimiter:P=";",pattern:W,id:H,inputId:Z,inputValue:G="",maxPillLabelLength:J=16,className:Q,...Y})=>{const[p,c]=S.useState(e),[v,E]=S.useState(G),[m,A]=S.useState(null),_=a=>{if(!(m==null?void 0:m.checkValidity())||L(a,p))return;if(L(P,a)){const h=me(ye(P),ve(De),he(z))(a),w=[...p,...h];c(Re(w)),o(h,w),l(w)}else{const h=[...p,a];c(h),o([a],h),l(h)}E("")},O=a=>{c(d=>{const b=ge(a)?Xe([a],d):Me(1,d);return s(b),l(b),b})};_e(()=>{c(e)},[e,c]);const ee=a=>{switch(a.key){case";":case"Enter":if(a.preventDefault(),n)return;z(v)&&_(a.target.value);break;case"Backspace":case"Delete":be(v)&&D(p)&&O();break}},te=a=>{a.preventDefault();const d=U(a);_(typeof d=="string"?d:(a.clipboardData||window.clipboardData).getData("text"))},ne=a=>{F(a),E(a.target.value)},ae=a=>{a.preventDefault(),!n&&z(v)&&_(a.target.value)},re=a=>{a.preventDefault(),Be(m)&&m.focus()},ie=()=>{c([]),s([]),l([])},se=a=>{switch(a.key){case" ":case"Enter":a.preventDefault(),c([]),s([]),l([]),m.focus();break}},le=a=>()=>{O(a),m.focus()};return f.jsx($e,{$isDisabled:t,$isInvalid:n,className:Ve(ce,Q),"data-testid":"multivalueinputContainer",id:H,onClick:re,children:f.jsxs(Ce,{align:"center",justify:"space-between",children:[f.jsxs(Fe,{$hasValue:D(p),paddingSize:k.xs,style:{overflow:"hidden"},children:[p.map((a,d)=>f.jsx(Se,{label:a,maxLabelLength:J,onRemove:t?void 0:le(d)},a)),f.jsx(Ue,{"data-value":v||M,children:f.jsx(We,{...Y,ref:A,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",disabled:t,id:Z,pattern:W,placeholder:qe(p)?M:void 0,spellCheck:"false",type:"text",value:v,onBlur:ae,onChange:a=>ne(a),onKeyDown:ee,onPaste:te})})]}),r&&!t&&D(p)&&f.jsx(He,{"aria-label":"Clear all values",type:"reset",onClick:ie,onKeyDown:se,children:f.jsx(Ie,{name:we.times})})]})})};C.propTypes={value:i.arrayOf(i.string),isInvalid:i.bool,isDisabled:i.bool,isClearable:i.bool,className:i.string,placeholder:i.string,id:i.string,inputId:i.string,inputValue:i.string,valuesDelimiter:i.string,maxPillLabelLength:i.number,onValueAdd:i.func,onValueRemove:i.func,onValuesChange:i.func,onInputChange:i.func,onPaste:i.func};const bt=C;try{C.displayName="MultiValueInput",C.__docgenInfo={description:"",displayName:"MultiValueInput",props:{value:{defaultValue:{value:"[]"},description:"",name:"value",required:!1,type:{name:"string[]"}},isInvalid:{defaultValue:{value:"false"},description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:{value:"false"},description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isClearable:{defaultValue:{value:"true"},description:"",name:"isClearable",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},inputId:{defaultValue:null,description:"",name:"inputId",required:!1,type:{name:"string"}},inputValue:{defaultValue:null,description:"",name:"inputValue",required:!1,type:{name:"string"}},valuesDelimiter:{defaultValue:{value:";"},description:"",name:"valuesDelimiter",required:!1,type:{name:"string"}},maxPillLabelLength:{defaultValue:{value:"16"},description:"",name:"maxPillLabelLength",required:!1,type:{name:"number"}},onValueAdd:{defaultValue:null,description:"",name:"onValueAdd",required:!1,type:{name:"(addedValues: string[], nextValues: string[]) => void"}},onValueRemove:{defaultValue:null,description:"",name:"onValueRemove",required:!1,type:{name:"(nextValues: string[]) => void"}},onValuesChange:{defaultValue:null,description:"",name:"onValuesChange",required:!1,type:{name:"(nextValues: string[]) => void"}},onInputChange:{defaultValue:null,description:"",name:"onInputChange",required:!1,type:{name:"(event: ChangeEvent<HTMLInputElement>) => void"}},onPaste:{defaultValue:null,description:"",name:"onPaste",required:!1,type:{name:"(event: ClipboardEvent<HTMLInputElement>) => string | void"}}}}}catch{}export{bt as M};
