import{j as o}from"./jsx-runtime-Cw0GR0a5.js";import{r as V}from"./index-CTjT7uj6.js";import{d as te,a9 as nn,_ as xe,R as an,T as tn,U as rn,l as on,ah as ln,D as Oe,s as S,a7 as sn,h as $,k as Re,q as H,S as z,P as un,a4 as D,p as O,V as w,i as N,A as Se,aa as Ae,I as he,e as Be,a2 as ve,a6 as dn,j as pn,u as cn}from"./space-1LtLrmuu.js";import"./Surface-DpLLkhSd.js";import{P as Ie}from"./Padbox-DKEfmyAv.js";import{S as Te}from"./Stack-D3Wl5zWT.js";import{I as ke}from"./Inline-BUcOfxrg.js";import"./Cluster-DAeUfwZi.js";import{P as e}from"./index-BRV0Se7Z.js";import{T as Ue,a as $e}from"./Text-DTP2ysh1.js";import{S as fe,I as mn,a as fn}from"./Icon-4JNizDXH.js";import{S as gn}from"./Spinner-CJrCb2wC.js";import{E as yn}from"./ElementLabel-BFX3DrvP.js";import{E as K}from"./Message-6KzRW5US.js";import"./Checkbox-DtOI_Iry.js";import{I as re}from"./Input-CflEDIf9.js";import"./Label-Bgxc31x7.js";import{M as hn}from"./MultiValueInput-D_NZt4Q-.js";import"./Password-DMckXrPE.js";import"./Radio-DvXQpNUS.js";import{O as Me,j as Q,S as ge,k as He,h as k}from"./Select-D2oYJWhQ.js";import"./CreatableSelect-DuZZJGpq.js";import"./Range-BxXBtghR.js";import"./Switch-BouC_1R9.js";import"./TextArea-dzhcLn8B.js";import"./SearchBar-CgCaR-wq.js";import"./SegmentedToggleItem-CNyXGxSM.js";import"./InputGroup-pSAtlOG3.js";import{i as X,a as vn}from"./isNonEmptyString-zJHoJ8N4.js";import{a as bn,b as ze}from"./BaseDateRangePicker-DYt_PHqx.js";import"./SingleDatePicker-DIUObEQq.js";import"./DSProvider-IYcK3cWD.js";import{p as Cn}from"./DSThemeOverride-BduN1ykm.js";import"./index-DFvsTZbx.js";import"./theme-Cr_I21Pv.js";import{u as Vn,i as qn}from"./useLogger-Cd66DVRc.js";import{p as _n}from"./pick-Dgh-9MLD.js";import{p as C}from"./propEq-t9RR3tDE.js";import{p as I}from"./prop-DG2n0FAQ.js";import{b as xn}from"./both-peGKknMH.js";import{i as We}from"./isArray-D_RvpTHQ.js";import{h as Ee}from"./head-BrnRDcRk.js";import{d as je}from"./defaultTo-C2m3wrMk.js";import{_ as On}from"./subtract-BgQ2JsUW.js";import{i as Ke,a as Rn}from"./isNotNull-B1xFkUZ3.js";import{B as In}from"./BottomBar-3IK260rR.js";import{i as De}from"./isEmptyArray-9kLVyzWX.js";import{a as En}from"./all-iEGJVrnb.js";import{w as jn}from"./when-Da_5hu2U.js";import{n as Le}from"./noop-CLoMDX4X.js";var Fn=te(function(a,t,r){var i=r.length;if(a>=i||a<-i)return r;var d=(i+a)%i,l=nn(r);return l[d]=t(r[d]),l}),Nn=function(){function n(a,t){this.xf=t,this.f=a,this.found=!1}return n.prototype["@@transducer/init"]=an.init,n.prototype["@@transducer/result"]=function(a){return this.found||(a=this.xf["@@transducer/step"](a,void 0)),this.xf["@@transducer/result"](a)},n.prototype["@@transducer/step"]=function(a,t){return this.f(t)&&(this.found=!0,a=tn(this.xf["@@transducer/step"](a,t))),a},n}(),wn=xe(function(a,t){return new Nn(a,t)}),E=xe(rn(["find"],wn,function(a,t){for(var r=0,i=t.length;r<i;){if(a(t[r]))return t[r];r+=1}})),ye=te(function(a,t,r){return Fn(a,on(t),r)}),Sn=xe(function(a,t){return En(ln(a),t)}),Tn=te(function(a,t,r){return je(a,I(t,r))});const Mn=Tn;var Pe=te(function(a,t,r){return a(I(t,r))});const Xe=n=>!!n.validity.patternMismatch,Fe=(n,a,t)=>{const r=parseFloat(n),i=Number(r)===r,d=!Number(a)||r>=a,l=!Number(t)||r<=t;return i&&d&&l},be=({value:n="",onChange:a,maxLength:t,pattern:r,errorMessage:i,onValidate:d=Xe,placeholder:l="String",isInvalid:f=!1,onError:b,...y})=>{const c=p=>{const{target:h}=p,P=d(h)&&X(h.value);b(P)},g=p=>{a(p),c(p)};return o.jsxs(o.Fragment,{children:[o.jsx(re,{isInvalid:f,maxLength:t,pattern:r,placeholder:l,type:"text",value:n,onBlur:c,onChange:g,...y}),f&&o.jsx(K,{children:i})]})};be.propTypes={onChange:e.func.isRequired,value:e.string,maxLength:e.number,pattern:e.string,errorMessage:e.string,placeholder:e.string,isInvalid:e.bool,onValidate:e.func,onError:e.func};try{be.displayName="Input",be.__docgenInfo={description:"",displayName:"Input",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(event: ReactEventHandler<Element>) => void"}},placeholder:{defaultValue:{value:"String"},description:"",name:"placeholder",required:!1,type:{name:"string"}},isInvalid:{defaultValue:{value:"false"},description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},onValidate:{defaultValue:{value:`(target: HTMLInputElement): boolean => {
  return !!target.validity.patternMismatch;
}`},description:"",name:"onValidate",required:!1,type:{name:"(target: HTMLInputElement) => boolean"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(boolean: any) => void"}}}}}catch{}const Ce=({value:n=[],onChange:a,maxLength:t,pattern:r,errorMessage:i,onValidate:d=Xe,onError:l,placeholder:f="Enter value",isInvalid:b=!1})=>{const y=c=>{const{target:g}=c,p=d(g)&&X(g.value);l(p)};return o.jsxs(o.Fragment,{children:[o.jsx(hn,{maxLength:t,pattern:r,placeholder:f,value:n,onInputChange:y,onValuesChange:a}),b&&o.jsx(K,{children:i})]})};Ce.propTypes={onChange:e.func.isRequired,value:e.arrayOf(e.string),maxLength:e.number,pattern:e.string,errorMessage:e.string,placeholder:e.string,isInvalid:e.bool,onValidate:e.func,onError:e.func};try{Ce.displayName="TagsInput",Ce.__docgenInfo={description:"",displayName:"TagsInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string[]) => void"}},maxLength:{defaultValue:null,description:"",name:"maxLength",required:!1,type:{name:"number"}},pattern:{defaultValue:null,description:"",name:"pattern",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}},placeholder:{defaultValue:{value:"Enter value"},description:"",name:"placeholder",required:!1,type:{name:"string"}},isInvalid:{defaultValue:{value:"false"},description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},onValidate:{defaultValue:{value:`(target: HTMLInputElement): boolean => {
  return !!target.validity.patternMismatch;
}`},description:"",name:"onValidate",required:!1,type:{name:"(target: HTMLInputElement) => boolean"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(boolean: any) => void"}}}}}catch{}const Ne={onChange:e.func.isRequired,value:e.string,min:e.number,max:e.number,placeholder:e.string,errorMessage:e.string,isInvalid:e.bool,onError:e.func},Ve=({value:n="",onChange:a,min:t,max:r,placeholder:i="Number",errorMessage:d="Use only numbers",isInvalid:l=!1,onError:f})=>{const b=y=>{a(y);const c=!Fe(y.target.value,t,r)&&X(y.target.value);f(c)};return o.jsxs(o.Fragment,{children:[o.jsx(re,{"data-has-spin":"false",isInvalid:l,placeholder:i,step:"any",type:"number",value:n,onChange:b}),l&&o.jsx(K,{children:d})]})};Ve.propTypes=Ne;try{Ve.displayName="Number",Ve.__docgenInfo={description:"",displayName:"Number",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(event: ReactEventHandler<Element>) => void"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Number"},description:"",name:"placeholder",required:!1,type:{name:"string"}},errorMessage:{defaultValue:{value:"Use only numbers"},description:"",name:"errorMessage",required:!1,type:{name:"string"}},isInvalid:{defaultValue:{value:"false"},description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(boolean: any) => void"}}}}}catch{}const qe=({value:n="",onChange:a,min:t,max:r,placeholder:i="Integer",errorMessage:d="Use only integers",isInvalid:l=!1,onError:f})=>{const b=c=>{/-|[0-9]/.test(c.key)||c.preventDefault()},y=c=>{a(c);const g=!Fe(c.target.value,t,r)&&X(c.target.value);f(g)};return o.jsxs(o.Fragment,{children:[o.jsx(re,{"data-has-spin":"false",isInvalid:l,placeholder:i,type:"number",value:n,onChange:y,onKeyPress:b}),l&&o.jsx(K,{children:d})]})};qe.propTypes=Ne;try{qe.displayName="Integer",qe.__docgenInfo={description:"",displayName:"Integer",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(event: ReactEventHandler<Element>) => void"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Integer"},description:"",name:"placeholder",required:!1,type:{name:"string"}},errorMessage:{defaultValue:{value:"Use only integers"},description:"",name:"errorMessage",required:!1,type:{name:"string"}},isInvalid:{defaultValue:{value:"false"},description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(boolean: any) => void"}}}}}catch{}const _e=({value:n="",onChange:a,min:t,max:r,placeholder:i="Count",errorMessage:d="Use only integers",isInvalid:l=!1,onError:f})=>{const b=c=>{/[0-9]/.test(c.key)||c.preventDefault()},y=c=>{a(c);const g=!Fe(c.target.value,t,r)&&X(c.target.value);f(g)};return o.jsxs(o.Fragment,{children:[o.jsx(re,{"data-has-spin":"false",isInvalid:l,placeholder:i,type:"number",value:n,onChange:y,onKeyPress:b}),l&&o.jsx(K,{children:d})]})};_e.propTypes=Ne;try{_e.displayName="Count",_e.__docgenInfo={description:"",displayName:"Count",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(event: ReactEventHandler<Element>) => void"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},placeholder:{defaultValue:{value:"Count"},description:"",name:"placeholder",required:!1,type:{name:"string"}},errorMessage:{defaultValue:{value:"Use only integers"},description:"",name:"errorMessage",required:!1,type:{name:"string"}},isInvalid:{defaultValue:{value:"false"},description:"",name:"isInvalid",required:!1,type:{name:"boolean"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(boolean: any) => void"}}}}}catch{}const L={and:"and",or:"or"},Dn=Oe.neutral700,Ln=Oe.neutral600,Pn=Oe.neutral0,M={default:{iconName:fe.times,iconColor:Dn},applied:{iconName:fe.check,iconColor:Ln},hover:{iconName:fe.times,iconColor:Pn}},An=n=>{const[a,t]=V.useState(M.default);return V.useEffect(()=>{t(n?M.applied:M.default)},[n]),{handleMouseOut:()=>{t(n?M.applied:M.default)},handleMouseOver:()=>{t(M.hover)},...a}},Je=S(Ie).withConfig({displayName:"StateButton__Popup",componentId:"sc-1ajr366-0"})(["display:flex;position:absolute;visibility:hidden;z-index:",";padding:",";background:",";border-top-left-radius:",";border-bottom-left-radius:",";opacity:0;right:calc(100%);top:50%;transform:translateY(-50%);"],sn("tooltip"),$(8,0,8,10),Re("error.500"),H("default"),H("default")),Bn=S.button.withConfig({displayName:"StateButton__RemoveButton",componentId:"sc-1ajr366-1"})(["background:transparent;font-family:var(--sscds-font-family-body);height:",";flex:0 0 ",";display:flex;align-items:center;justify-content:center;position:relative;border:none;margin:0;cursor:",";&:hover{background-color:",";border-top-right-radius:",";border-bottom-right-radius:",";}&:hover ","{visibility:visible;opacity:1;}"],$(32),$(32),({disabled:n})=>!n&&"pointer",({disabled:n})=>!n&&Re("error.500"),H("default"),H("default"),Je),Z=({index:n,onClick:a,isApplied:t=!1,isLoading:r=!1})=>{const{iconColor:i,iconName:d,handleMouseOut:l,handleMouseOver:f}=An(t);return o.jsxs(Bn,{"aria-label":"remove",onClick:a(n),onMouseOut:l,onMouseOver:f,children:[r?o.jsx(gn,{borderWidth:2,height:20,width:20,dark:!0}):o.jsx(mn,{color:i,name:d,type:fn.ssc,hasFixedWidth:!0}),o.jsx(Je,{alignItems:"center",justifyContent:"center",children:o.jsx(yn,{color:"inverse",size:"sm",style:{lineHeight:"1rem"},children:"Remove"})})]})};Z.propTypes={index:e.number.isRequired,onClick:e.func.isRequired,isApplied:e.bool,isLoading:e.bool};try{Z.displayName="StateButton",Z.__docgenInfo={description:"",displayName:"StateButton",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(index: number) => MouseEventHandler<Element>"}},isApplied:{defaultValue:{value:"false"},description:"",name:"isApplied",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}}}}}catch{}const kn=S(Ie).withConfig({displayName:"DisabledOperator__Container",componentId:"sc-lbwe6s-0"})(["display:flex;border-radius:",";background:",";text-transform:capitalize;"],H("default"),Re("neutral.200")),Un=S(Ue).withConfig({displayName:"DisabledOperator__Text",componentId:"sc-lbwe6s-1"})(["line-height:unset;"]),W=({children:n})=>o.jsx(kn,{paddingSize:z.md,paddingType:un.squish,children:o.jsx(Un,{size:$e.md,children:n})});W.propTypes={children:e.node.isRequired};try{W.displayName="DisabledOperator",W.__docgenInfo={description:"",displayName:"DisabledOperator",props:{}}}catch{}const Ye=e.exact({conditions:e.arrayOf(e.exact({component:e.oneOfType([e.elementType,e.exact({component:e.elementType,props:e.exact({options:e.arrayOf(Me),defaultValue:Me,isMulti:e.bool,min:e.number,max:e.number,maxLength:e.number,pattern:e.string,errorMessage:e.string,minDate:e.instanceOf(Date),maxDate:e.instanceOf(Date),units:e.string,placeholder:e.oneOfType([e.string,bn]),onValidate:e.func})})]).isRequired,label:e.string.isRequired,value:e.string.isRequired,isDefault:e.bool})).isRequired,label:e.string.isRequired,value:e.string.isRequired}),$n=e.exact({operator:e.oneOf(Object.values(L)).isRequired,field:e.string.isRequired,condition:e.string.isRequired,value:e.oneOfType([e.string,e.arrayOf(e.string),e.instanceOf(Date),ze]),isApplied:e.bool.isRequired,isLoading:e.bool.isRequired,isCanceled:e.bool.isRequired}),Hn={fields:e.arrayOf(Ye).isRequired,state:e.arrayOf($n),isLoading:e.bool,isCancelEnabled:e.bool,isOperatorFieldEnabled:e.bool,defaultOperator:e.oneOf(Object.values(L)),onApply:e.func,onClose:e.func,onCancel:e.func,onChange:e.func,onError:e.func},Ge=[{value:"and",label:"And"},{value:"or",label:"Or"}],G=_n(["value","label"]),zn=(n,a,t)=>{const{error:r}=Vn("useFilterRow"),i=E(C("value",a),n);D(i)&&r(`Field value "${a}" was not found in the fields array`),D(i.conditions)&&r("Field item does not contain any conditions");const d=O(I("conditions"),w(G))(i),l=O(I("conditions"),E(C("value",t)))(i);return D(l)&&r(`For field value "${a}" was not found condition matching condition value "${t}"`),{field:G(i),conditions:d,condition:G(l),component:I("component",l)}},Y=S.div.withConfig({displayName:"FilterRow__SplitField",componentId:"sc-5ugtfs-0"})(["",";"],({$width:n})=>N(n)?Se(["flex:0 0 ",";"],$(n)):Se(["width:100%;"])),Wn=S(Ue).withConfig({displayName:"FilterRow__Units",componentId:"sc-5ugtfs-1"})(["flex-shrink:0;min-width:",";"],$(64)),ee=n=>{const a=he(["props","defaultValue"],n);return Mn(a,"value",a)},Qe=(n,a)=>O(E(C("value",n)),I("conditions"))(a),Kn=(n,a)=>{const t=Qe(n,a),{value:r,component:i}=O(E(C("isDefault",!0)),je(Ee(t)))(t),d=ee(i);return{defaultConditionValue:r,defaultComponentValue:d}},Xn=Ae((n,a,t)=>O(Qe,E(C("value",n)),I("component"))(a,t)),Jn=Ae(n=>E(C("value",n))(Ge)),Yn=w(G),Gn=xn(We,O(Ee,Q("value"))),Qn=(n,a,t,r,i)=>{const{component:d,props:l}=n,{units:f}=l;return f?o.jsxs(ke,{align:"center",gap:z.sm,stretch:"start",children:[o.jsx(d,{isInvalid:i,value:a,onChange:t,onError:r,...l}),o.jsx(Wn,{size:$e.md,children:f})]}):o.jsx(d,{isInvalid:i,value:a,onChange:t,onError:r,...l})},Zn=(n,a,t)=>{const{component:r,props:{options:i,isMulti:d,placeholder:l="Please select…"}}=n,f=We(a)?ve(O(I("value"),qn(On,a)))(i):E(C("value",a))(i);return o.jsx(r,{isMulti:d,options:i,placeholder:l,value:f,onChange:t})},ea=(n,a,t,r,i)=>D(n)?null:typeof n=="object"&&He(["props","options"],n)?Zn(n,a,t):typeof n=="object"&&Q("props",n)?Qn(n,a,t,r,i):o.jsx(n,{isInvalid:i,value:a,onChange:t,onError:r}),ne=({fields:n,index:a,onOperatorChange:t,onFieldChange:r,onConditionChange:i,onValueChange:d,onRemove:l,isDefaultState:f,operator:b,field:y,condition:c,value:g,isApplied:p,isLoading:h,isInvalid:P,onError:oe,isOperatorFieldEnabled:ie,defaultOperator:le,hasApplyButton:j})=>{const{field:R,conditions:se,condition:J,component:T}=zn(n,y,c),ue=Jn(b),x=Yn(n),de=({value:v})=>{const{defaultConditionValue:q,defaultComponentValue:A}=Kn(v,n);r(v,q,A,a)},pe=({value:v})=>{const q=Xn(v,R.value,n),A=he(["props","defaultValue","value"],q),me=Be(T,q);i(v,A||(me?g:void 0),a)},ce=v=>{if(Ke(v)&&He(["props","defaultValue"],T)){const q=he(["props","defaultValue","value"],T);d(q,a)}else if(Q("target",v))d(v.target.value,a);else if(Q("value",v))d(v.value,a);else if(Gn(v)){const q=Cn("value",v);d(q,a)}else d(v,a)};return o.jsxs(ke,{gap:z.sm,children:[f?null:o.jsx(Z,{index:a,isApplied:j?p:!1,isLoading:h,onClick:l}),o.jsx(Y,{$width:96,children:ie?a!==1?o.jsx(W,{children:a===0?"where":b}):o.jsx(ge,{defaultValue:ue,options:Ge,onChange:t}):o.jsx(W,{children:a===0?"where":le})}),o.jsx(Y,{$width:200,children:o.jsx(ge,{options:x,value:R,onChange:de})}),o.jsx(Y,{$width:144,children:o.jsx(ge,{options:se,value:J,onChange:pe})}),o.jsx(Y,{children:ea(T,g,ce,oe,P)})]})};ne.propTypes={fields:e.arrayOf(Ye).isRequired,index:e.number.isRequired,field:e.string.isRequired,condition:e.string.isRequired,operator:e.oneOf(Object.values(L)).isRequired,isApplied:e.bool.isRequired,isLoading:e.bool.isRequired,isDefaultState:e.bool.isRequired,isInvalid:e.bool.isRequired,onOperatorChange:e.func.isRequired,onFieldChange:e.func.isRequired,onConditionChange:e.func.isRequired,onValueChange:e.func.isRequired,onRemove:e.func.isRequired,isOperatorFieldEnabled:e.bool,defaultOperator:e.oneOf(Object.values(L)),value:e.oneOfType([e.string,e.arrayOf(e.string),e.instanceOf(Date),ze]),hasApplyButton:e.bool,onError:e.func};try{ee.displayName="getDefaultComponentValue",ee.__docgenInfo={description:"",displayName:"getDefaultComponentValue",props:{component:{defaultValue:null,description:"",name:"component",required:!0,type:{name:"string | number | boolean | ReactElement<any, string | JSXElementConstructor<any>> | Iterable<ReactNode> | ReactPortal | ComponentClass<...> | FunctionComponent<...>"}}}}}catch{}try{ne.displayName="FilterRow",ne.__docgenInfo={description:"",displayName:"FilterRow",props:{fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field[]"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},onOperatorChange:{defaultValue:null,description:"",name:"onOperatorChange",required:!0,type:{name:"(value: Option) => void"}},onFieldChange:{defaultValue:null,description:"",name:"onFieldChange",required:!0,type:{name:"(field: string, condition: string, value: string, index: number) => void"}},onConditionChange:{defaultValue:null,description:"",name:"onConditionChange",required:!0,type:{name:"(condition: string, value: string, index: number) => void"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!0,type:{name:"(value: string, index: number) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(index: number) => MouseEventHandler<Element>"}},isDefaultState:{defaultValue:null,description:"",name:"isDefaultState",required:!0,type:{name:"boolean"}},isApplied:{defaultValue:null,description:"",name:"isApplied",required:!0,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},isInvalid:{defaultValue:null,description:"",name:"isInvalid",required:!0,type:{name:"boolean"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(boolean: any) => void"}},isOperatorFieldEnabled:{defaultValue:null,description:"",name:"isOperatorFieldEnabled",required:!1,type:{name:"boolean"}},defaultOperator:{defaultValue:null,description:"",name:"defaultOperator",required:!1,type:{name:"enum",value:[{value:'"and"'},{value:'"or"'}]}},hasApplyButton:{defaultValue:null,description:"",name:"hasApplyButton",required:!1,type:{name:"boolean"}},operator:{defaultValue:null,description:"",name:"operator",required:!0,type:{name:"enum",value:[{value:'"and"'},{value:'"or"'}]}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"string"}},condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"string"}},isCanceled:{defaultValue:null,description:"",name:"isCanceled",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | string[] | Date | Record<string, unknown> | BaseDateRange"}}}}}catch{}const na=({operator:n,field:a,condition:t},r)=>`${n}-${a}-${t}-${r}`,Ze=({conditions:n})=>{const a=E(C("isDefault",!0),n),{value:t,component:r}=je(Ee(n),a),i=ee(r);return{condition:t,value:i}},U=([n])=>{const{condition:a,value:t}=Ze(n);return[{operator:L.and,field:n.value,condition:a,value:t,isApplied:!1,isLoading:!1,isCanceled:!1}]},aa=S(Ie).withConfig({displayName:"Filters__FiltersBase",componentId:"sc-1rft3gi-0"})(["display:flex;flex-direction:column;flex-grow:1;"]),ae=({fields:n,state:a,onApply:t,onChange:r=Le,onClose:i,onCancel:d=Le,onError:l,isLoading:f=!1,isCancelEnabled:b=!0,isOperatorFieldEnabled:y=!0,defaultOperator:c=L.and})=>{const g=V.useMemo(()=>y?a:w(k("operator",c),a),[a,y,c]),[p,h]=V.useState(null),[P,oe]=V.useState(!0),[ie,le]=V.useState(!1),[j,R]=V.useState([!0]),se=N(i),J=N(t);V.useEffect(()=>{if((D(g)||De(g))&&N(n)){const s=U(n);h(s)}else h(g),R(g.map(s=>!!s))},[g,n]),V.useEffect(()=>{if(N(n)){const s=U(n);oe(Be(p,s))}},[p,n]),V.useEffect(()=>{p&&!f&&dn(C("isLoading",!0))(p)&&(!g||Sn(C("isCanceled",!0))(g))&&h(O(ve(Pe(N,"value")),w(jn(vn([C("isCanceled",!1),C("isLoading",!0)]),k("isApplied",!0))),w(k("isLoading",!1)))(p))},[g,p,f]);const T=(s,u)=>{const m=[...j];m[u]=!s,R(m),l==null||l(s)},ue=j.some(s=>s===!1);V.useEffect(()=>{if(Rn(p)){const s=p.some(({isApplied:m})=>m),u=p.some(({isApplied:m})=>!m);le(s&&u)}},[p]);const x=s=>{typeof r=="function"&&r(s)},de=({value:s})=>{const u=p.map(m=>({...m,operator:s,isApplied:!1,isLoading:!1,isCanceled:!1}));h(u),x(u)},pe=(s,u,m,_)=>{h(F=>{const B=ye(_,{...F[_],field:s,condition:u,value:m,isApplied:!1,isLoading:!1,isCanceled:!1},F);return x(B),B})},ce=(s,u,m)=>{h(_=>{const F=ye(m,{..._[m],condition:s,value:u,isApplied:!1,isLoading:!1,isCanceled:!1},_);return x(F),F})},v=(s,u)=>{h(m=>{const _=ye(u,{...m[u],value:s||void 0,isApplied:!1,isLoading:!1,isCanceled:!1},m);return x(_),_})},q=s=>{s.preventDefault();const u=[...p],{condition:m,value:_}=Ze(n[0]),F={operator:u[0].operator,field:n[0].value,condition:m,value:_,isApplied:!1,isLoading:!1,isCanceled:!1},B=[...u,F];h(B),R([...j,!0]),x(B)},A=s=>{s.preventDefault();const u=U(n);h(u),R([!0]),x(u),t==null||t([])},me=s=>{if(s.preventDefault(),f)return;const u=O(ve(Pe(N,"value")),w(k("isCanceled",!1)),w(cn(C("isApplied",!0),k("isLoading",!0))))(p),m=U(n);h(De(u)?m:u),t==null||t(u)},we=s=>()=>{let u,m=[...j];p.length>1?(u=[...p],u.splice(s,1),m.splice(s,1)):(u=U(n),m=[!0]),h(u),R(m),x(u)},en=s=>{s.preventDefault(),i()};return D(n)||Ke(p)?null:o.jsx(aa,{className:pn,"data-testid":"filters",children:o.jsxs(Te,{gap:z.md,children:[o.jsx(Te,{gap:z.sm,children:p.map((s,u)=>o.jsx(ne,{defaultOperator:c,fields:n,hasApplyButton:J,index:u,isDefaultState:P,isInvalid:j[u]===!1,isOperatorFieldEnabled:y,onConditionChange:ce,onError:m=>T(m,u),onFieldChange:pe,onOperatorChange:de,onRemove:we,onValueChange:v,...p[u]},na(s,u)))}),o.jsx(In,{hasApplyButton:J,hasCloseButton:se,hasUnappliedFilters:ie,isApplyDisabled:ue,isCancelEnabled:b,isLoading:f,onAdd:q,onCancel:d,onClearAll:A,onClose:en,onSubmit:me})]})})},Za=ae;ae.propTypes=Hn;try{ae.displayName="Filters",ae.__docgenInfo={description:"",displayName:"Filters",props:{fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field[]"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"Filter[]"}},onApply:{defaultValue:null,description:"",name:"onApply",required:!1,type:{name:"(filters: Filter[]) => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"() => void"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!1,type:{name:"() => void"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(filters: Filter[]) => void"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(hasError: boolean) => void"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isCancelEnabled:{defaultValue:{value:"true"},description:"",name:"isCancelEnabled",required:!1,type:{name:"boolean"}},isOperatorFieldEnabled:{defaultValue:{value:"true"},description:"",name:"isOperatorFieldEnabled",required:!1,type:{name:"boolean"}},defaultOperator:{defaultValue:{value:"and"},description:"",name:"defaultOperator",required:!1,type:{name:"enum",value:[{value:'"and"'},{value:'"or"'}]}}}}}catch{}export{_e as C,Za as F,be as I,Ve as N,L as O,Ce as T,qe as a,Hn as b,$n as c,Ye as d,Xe as v};
