import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{r as h}from"./index-CTjT7uj6.js";import{P as c}from"./index-BRV0Se7Z.js";import{G as I,s as _,g as z,S as g,k as f,F as d}from"./space-1LtLrmuu.js";import{T as m}from"./Text-DTP2ysh1.js";import{D as P}from"./DropdownMenu-0cqzWS2f.js";import"./DropdownMenu.types-BiMILHFG.js";import{I as x,S as b}from"./Icon-4JNizDXH.js";import{D as p}from"./Datatable.store-D58zn130.js";import"./Surface-DpLLkhSd.js";import"./Padbox-DKEfmyAv.js";import"./Stack-D3Wl5zWT.js";import{I as k}from"./Inline-BUcOfxrg.js";import"./Cluster-DAeUfwZi.js";import"./DSProvider-IYcK3cWD.js";import"./DSThemeOverride-BduN1ykm.js";import"./index-DFvsTZbx.js";import"./theme-Cr_I21Pv.js";import{b as R}from"./both-peGKknMH.js";import{l as q}from"./lt-BJYS4bbv.js";var u=R(I,q(0));const y=_.button.withConfig({displayName:"ElementCounter__SelectionButton",componentId:"sc-1m6rn0t-0"})(["display:inline-flex;align-self:center;justify-content:center;background:transparent;border:none;cursor:pointer;height:100%;padding:",";font-size:var(--sscds-font-size-elementlabel-md);color:",";&:hover{color:",";}"],z(g.xs),f("neutral.800"),f("primary.500")),w=(t,o=0)=>e.jsx("span",{"data-testid":"counter-content",children:u(o)&&u(t)?`${d(o)} of ${d(t)} selected`:u(t)?d(t):"No data"});function r({children:t,...o}){return e.jsx(k,{align:"center",gap:g.xs,...o,children:t})}r.displayName="ElementCounterWrapper";const C=({dataSize:t,hasSelection:o,hasOnlyPerPageSelection:j})=>{const{selectedIds:s,hasExclusiveSelection:E}=p.useState(n=>({selectedIds:n.selectedIds,hasExclusiveSelection:n.hasExclusiveSelection})),[l,a]=h.useState(s.length||0);h.useEffect(()=>{a(s.length)},[s]);const v=E?t-l:l,i=w(t,v),N=()=>{a(0),p.update(n=>{n.hasExclusiveSelection=!0,n.shouldResetSelectedRows=!0})},S=()=>{a(0),p.update(n=>{n.hasExclusiveSelection=!1,n.shouldResetSelectedRows=!0})};return o?j?e.jsxs(r,{children:[e.jsx(m,{size:"md",variant:"secondary",children:i}),l>0&&e.jsx(y,{"aria-label":"Select None",title:"Select None",type:"button",onClick:S,children:e.jsx(x,{name:b.times,size:"sm"})})]}):e.jsxs(r,{children:[e.jsx(m,{size:"md",variant:"secondary",children:i}),t>0&&e.jsx(P,{actions:[{name:"select-all",label:"Select All",onClick:N},{name:"select-none",label:"Select None",onClick:S}],paneWidth:140,children:e.jsx(y,{"aria-label":"Selection options",onClick:n=>{n.preventDefault()},children:e.jsx(x,{"data-testid":"selection-dropdown",name:b.angleDown,size:"sm"})})})]}):e.jsx(r,{children:e.jsx(m,{size:"md",variant:"secondary",children:i})})};C.propTypes={dataSize:c.number.isRequired,hasSelection:c.bool.isRequired,hasOnlyPerPageSelection:c.bool.isRequired};const ee=C;try{r.displayName="ElementCounterWrapper",r.__docgenInfo={description:"",displayName:"ElementCounterWrapper",props:{dataSize:{defaultValue:null,description:"",name:"dataSize",required:!0,type:{name:"number"}},hasSelection:{defaultValue:null,description:"",name:"hasSelection",required:!0,type:{name:"boolean"}},hasOnlyPerPageSelection:{defaultValue:null,description:"",name:"hasOnlyPerPageSelection",required:!0,type:{name:"boolean"}}}}}catch{}export{ee as E};
