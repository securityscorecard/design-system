import{j as s}from"./jsx-runtime-Cw0GR0a5.js";import{r as d}from"./index-CTjT7uj6.js";import{s as b,k as P,h as I}from"./space-1LtLrmuu.js";import{B as v}from"./Button-vDRI25at.js";import{S as N}from"./Surface-DpLLkhSd.js";import{P as V}from"./Padbox-DKEfmyAv.js";import"./Stack-D3Wl5zWT.js";import"./Inline-BUcOfxrg.js";import"./Cluster-DAeUfwZi.js";import{C as q}from"./Text-DTP2ysh1.js";import{E as B}from"./ErrorBoundary-D497cZwE.js";import{u as C}from"./useLogger-Cd66DVRc.js";import{I as R}from"./Icon-4JNizDXH.js";function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(n){T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T(e,t,r){return t=k(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=D(e,"string");return typeof t=="symbol"?t:String(t)}function D(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const $=_({});function _(e){return t.withOptions=r=>_(S(S({},e),r)),t;function t(r,...n){const i=typeof r=="string"?[r]:r.raw,{escapeSpecialCharacters:u=Array.isArray(r)}=e;let l="";for(let a=0;a<i.length;a++){let o=i[a];u&&(o=o.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\{/g,"{")),l+=o,a<n.length&&(l+=n[a])}const m=l.split(`
`);let p=null;for(const a of m){const o=a.match(/^(\s+)\S+/);if(o){const c=o[1].length;p?p=Math.min(p,c):p=c}}if(p!==null){const a=p;l=m.map(o=>o[0]===" "||o[0]==="	"?o.slice(a):o).join(`
`)}return l.trim().replace(/\\n/g,`
`)}}try{ErrorBoundary.displayName="ErrorBoundary",ErrorBoundary.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},justify:{defaultValue:{value:"center"},description:"",name:"justify",required:!1,type:{name:"JustifyContent"}},illustration:{defaultValue:null,description:"",name:"illustration",required:!1,type:{name:"ReactNode"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"() => void"}},title:{defaultValue:{value:"We cannot show this information now"},description:"",name:"title",required:!1,type:{name:"ReactNode"}},content:{defaultValue:{value:"If the problem persists, contact support."},description:"",name:"content",required:!1,type:{name:"ReactNode"}}}}}catch{}async function W(e){return"clipboard"in navigator?navigator.clipboard.writeText(e):document.execCommand("copy",!0,e)}const z=()=>{const[e,t]=d.useState(!1),{warn:r}=C("useClipboard");return{isCopied:e,copy:i=>{W(i).then(()=>{t(!0),setTimeout(()=>{t(!1)},1500)}).catch(u=>{r(u)})}}},w=b.div.withConfig({displayName:"Snippet__ButtonWrapper",componentId:"sc-1053oev-0"})(["position:absolute;right:0rem;",";background-color:",";"],({$position:e})=>e==="top"?"top: 0rem;border-radius: 0 var(--sscds-radius);":"bottom: 0rem;border-radius: var(--sscds-radius) 0;",P("neutral.100")),A=b(N).withConfig({displayName:"Snippet__SnippetRoot",componentId:"sc-1053oev-1"})([""]),K=b(V).withConfig({displayName:"Snippet__SnippetContent",componentId:"sc-1053oev-2"})(["",";overflow:auto;"],({$shouldWrapText:e})=>e?`
  white-space: break-spaces;
  word-wrap: break-word;
  `:void 0),f=d.forwardRef(({children:e,canCopy:t=!0,shouldDedent:r=!0,shouldWrapText:n=!1,maxHeight:i=200,isExpanded:u=!1},l)=>{const{error:m}=C("Snippet"),p=d.useRef(null),[a,o]=d.useState(!0),[c,j]=d.useState(u),{copy:O,isCopied:y}=z(),h=typeof e=="string";if(d.useLayoutEffect(()=>{o(p.current.getBoundingClientRect().height>i)},[o,i]),!h)return m("Only string can be passed in `children` property"),null;const g=r?$(e):e;return s.jsxs(A,{ref:l,background:"dynamic",style:{position:"relative"},hasBorder:!0,children:[s.jsx(K,{$shouldWrapText:n,"aria-multiline":"true","aria-readonly":"true",as:"pre",paddingSize:"md",role:"textbox",style:{maxHeight:c?"none":I(i)},tabIndex:0,children:h?s.jsx(q,{ref:p,size:"sm",children:g}):s.jsx(B,{size:"xs"})}),h&&t&&s.jsx(w,{$position:"top",children:s.jsx(v,{"aria-label":y?"Copied to clipboard":"Copy to clipboard",iconStart:{name:y?"check":"copy"},variant:"ghost",onClick:()=>O(g),children:y?"Copied":void 0})}),a&&s.jsx(w,{$position:"bottom",children:s.jsxs(v,{variant:"ghost",onClick:()=>j(E=>!E),children:[s.jsx("span",{children:c?"Show less":"Show more"}),s.jsx(R,{name:c?"angle-up":"angle-down"})]})})]})});f.displayName="Snippet";const re=f;try{f.displayName="Snippet",f.__docgenInfo={description:"",displayName:"Snippet",props:{canCopy:{defaultValue:{value:"true"},description:"",name:"canCopy",required:!1,type:{name:"boolean"}},shouldDedent:{defaultValue:{value:"true"},description:"",name:"shouldDedent",required:!1,type:{name:"boolean"}},shouldWrapText:{defaultValue:{value:"false"},description:"",name:"shouldWrapText",required:!1,type:{name:"boolean"}},maxHeight:{defaultValue:{value:"200"},description:"",name:"maxHeight",required:!1,type:{name:"number"}},isExpanded:{defaultValue:null,description:"",name:"isExpanded",required:!1,type:{name:"boolean"}}}}}catch{}export{re as S};
