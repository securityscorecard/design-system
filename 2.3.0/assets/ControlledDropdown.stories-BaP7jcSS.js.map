{"version":3,"file":"ControlledDropdown.stories-BaP7jcSS.js","sources":["../../src/components/Dropdown/ControlledDropdown.stories.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Meta, StoryFn } from '@storybook/react';\nimport { OptionsType } from 'react-select';\n\nimport { Button } from '../Button';\nimport ControlledDropdown from './ControlledDropdown';\nimport { DropdownProps } from './Dropdown.types';\nimport { PaddingTypes } from '../layout/Padbox/Padbox.enums';\nimport { generateControl } from '../../utils/tests/storybook';\nimport { CreatableSelect, Option } from '../forms/Select';\n\nexport default {\n  title: 'components/Dropdown/ControlledDropdown',\n  component: ControlledDropdown,\n  parameters: {\n    docs: {\n      description: {\n        component: `\n\\`\\`\\`js\nimport { ControlledDropdown } from '@securityscorecard/design-system';\n\\`\\`\\`\n\nBarebone Dropdown component that takes \\`isOpen\\` props and renders pane based on it's value.\n      `,\n      },\n    },\n    controls: { sort: 'requiredFirst' },\n  },\n  argTypes: {\n    triggerEl: { control: { disable: true } },\n    innerPaddingType: { ...generateControl('select', PaddingTypes) },\n  },\n} as Meta;\n\nconst options = [\n  { value: 'Kitty', label: 'Kitty' },\n  { value: 'Lilly', label: 'Lilly' },\n  { value: 'Lucy', label: 'Lucy' },\n  { value: 'Leo', label: 'Leo' },\n  { value: 'Jack', label: 'Jack' },\n];\n\nexport const UsingWithAnotherComponentControlled: StoryFn<DropdownProps> = (\n  args,\n) => {\n  const [currentValue, setCurrentValue] = useState<OptionsType<Option> | null>(\n    null,\n  );\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [triggerEl, setTriggerEl] = useState<HTMLElement | null>(null);\n\n  return (\n    <>\n      <span ref={setTriggerEl} /* HACK since Button does not forward ref */>\n        <Button\n          iconStart={{ name: 'plus' }}\n          variant=\"text\"\n          onClick={() => {\n            setIsDropdownOpen((prev) => !prev);\n          }}\n        >\n          Add kitten\n        </Button>\n      </span>\n      <ControlledDropdown\n        {...args}\n        ref={null}\n        isOpen={isDropdownOpen}\n        triggerEl={triggerEl as HTMLElement}\n        onClickOut={() => {\n          setIsDropdownOpen(false);\n        }}\n      >\n        <CreatableSelect\n          createNewLabel=\"Buy new kitten\"\n          menuActions={[\n            {\n              label: 'Close dropdown',\n              name: 'close-dropdown',\n              onClick: () => {\n                setIsDropdownOpen(false);\n              },\n            },\n          ]}\n          options={options}\n          value={currentValue}\n          isClearable\n          isMenuPositionRelative\n          isMulti\n          menuIsOpen\n          onChange={(value) => setCurrentValue(value)}\n          onCreateOption={(inputString) => {\n            const newOption = {\n              label: inputString,\n              value: inputString.toLowerCase().replace(/\\W/g, ''),\n            };\n            setCurrentValue((prevValue) =>\n              prevValue === null ? [newOption] : [...prevValue, newOption],\n            );\n          }}\n        />\n      </ControlledDropdown>\n    </>\n  );\n};\nUsingWithAnotherComponentControlled.storyName =\n  'Using With Another Component (Controlled)';\nUsingWithAnotherComponentControlled.parameters = {\n  screenshot: { skip: true },\n};\nUsingWithAnotherComponentControlled.args = {\n  innerPaddingSize: 'sm',\n};\n"],"names":["component","ControlledDropdown_stories","parameters","docs","ControlledDropdown","description","controls","sort","argTypes","triggerEl","control","disable","generateControl","PaddingTypes","innerPaddingType","value","label","options","UsingWithAnotherComponentControlled","currentValue","setCurrentValue","useState","isDropdownOpen","setIsDropdownOpen","setTriggerEl","jsx","Button","HTMLElement","name","args","newOption","onClick","screenshot","inputString","toLowerCase","replace","prevValue"],"mappings":"u2EAaEA,MAA6BC,GAAA,CAC7BC,MAAAA,yCACEC,UAAMC,EACJC,WAAAA,CACEL,KAAAA,CACRK,YAAA,CACAL,UAAA,6LAOIM,CAAYC,EAAsBD,SAAA,CAAAC,KAAA,eAAA,CACpC,EACAC,SAAU,CACRC,UAAW,CAAAC,QAAA,CAAAC,QAAA,EAAA,CAAA,EAAED,iBAAS,CAAA,GAAAE,EAAA,SAAAC,CAAA,CAAA,CAAEF,CAAc,EACtCG,EAAAA,CAAoB,CAAAC,MAAkB,QAAAC,MAAS,OAAEH,EAAc,CAAAE,MAAA,QAAAC,MAAA,OAAA,EACjE,CAAAD,MAAA,OAAAC,MAAA,MAAA,SACO,MAAAA,MAAA,KAAA,EAEHC,CAAAA,MAAAA,OACJD,MAAA,MAAA,CAAA,EACAE,EAAkBF,GAAAA,CAClB,KAAA,CAAAG,EAAAC,CAAA,EAAAC,WAAEN,IAAeC,EACjB,CAAAM,EAAAC,CAAA,EAAAF,WAAA,EAAA,GAASZ,EAAKe,CAAA,EAAAH,WAAA,IAAA,EACd,OAAiBL,EAAAA,KAAAA,WAAAA,CAAAA,SAAAA,CAAAA,MAAK,OAAE,CAAA,IAAAQ,EACzB,SAAAC,EAAA,IAAAC,GAEM,wBAGc,QAAA,mBAGIH,CACLC,EAAAA,GAAgBH,CAAAA,CAASM,CAAAA,EAGzC,qBAGmBC,CAAAA,EAAa,EAGxBL,EAAAA,IAAAA,EACA,CAAA,GAAAM,EAEZ,IAAA,KACQ,OAAQP,EACR,UAAAb,EACD,WAAA,IACC,CAKmBc,IAAO,CAAA,EAOpBP,SAAAA,EAAAA,IAAAA,EAAAA,CACAY,eAAsB,iBACf,YAAQ,CACI,CACnBZ,MAAA,iBAGGY,KAAS,iBAQRE,QAASC,IAAG,GACE,EAAA,CACb,CAAA,CACN,EAID,QAAAd,EAEc,MAAAE,EACnB,YAAA,GAEN,uBAAA,GACkC,QAAA,GAEA,WAAA,GACjCa,SAAYjB,GAAAK,EAAAL,CAAA,EAAQ,eAAAkB,GAAA,CAAK,MAAAH,EAAA,CAC1Bd,MAAAiB,EACkClB,MAAAkB,EAAAC,YAAAA,EAAQC,QAAA,MAAA,EAAA,CAAA,EAE1CC,EAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}