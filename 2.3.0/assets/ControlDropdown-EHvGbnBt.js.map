{"version":3,"file":"ControlDropdown-EHvGbnBt.js","sources":["../../src/components/ControlDropdown/ControlDropdown.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { isNotUndefined } from 'ramda-adjunct';\nimport styled from 'styled-components';\n\nimport { SpaceSizes } from '../../theme';\nimport { Inline, Padbox, Stack } from '../layout';\nimport Button from '../ButtonV2/Button';\nimport { CloseButton } from '../CloseButton';\nimport { H4 } from '../Heading';\nimport { ControlDropdownProps } from './ControlDropdown.types';\nimport { ControlDropdownPlacements } from './ControlDropdown.enums';\nimport ControlledDropdown from '../Dropdown/ControlledDropdown';\nimport { CLX_COMPONENT } from '../../theme/constants';\n\nconst Bleed = styled.div`\n  margin-inline: var(--sscds-space-negative-4x);\n`;\nconst ControlDropdown = ({\n  children,\n  title,\n  parentRef,\n  isOpen = false,\n  onClose,\n  onReset,\n  onSubmit,\n  submitLabel = 'Apply',\n  closeLabel = 'Close',\n  resetLabel = 'Reset to defaults',\n  placement = ControlDropdownPlacements.bottomLeft,\n  width = 390,\n}: ControlDropdownProps) => {\n  const [, setMounted] = useState(false);\n  useEffect(() => {\n    // Note: the popup hook used by the ControlledDropdown needs to be notified when the ref changes\n    setMounted(true);\n  }, []);\n  if (!isOpen || !parentRef?.current) {\n    return null;\n  }\n  return (\n    <ControlledDropdown\n      className={CLX_COMPONENT}\n      innerPaddingSize={SpaceSizes.none}\n      isOpen={isOpen}\n      maxPaneWidth={width}\n      placement={placement}\n      triggerEl={parentRef.current}\n      isPaneElevated\n    >\n      <Padbox paddingSize={SpaceSizes.md}>\n        <Stack gap={SpaceSizes.md}>\n          <Inline\n            align=\"center\"\n            as=\"header\"\n            gap={SpaceSizes.md}\n            justify=\"space-between\"\n          >\n            <H4 margin=\"none\">{title}</H4>\n            <CloseButton\n              ariaLabel=\"Close dropdown\"\n              marginCompensation={SpaceSizes.md}\n              onClose={onClose}\n            />\n          </Inline>\n          {children}\n          <Bleed>\n            <Padbox\n              paddingSize=\"md\"\n              style={{\n                borderTop: '1px solid var(--sscds-color-border-default)',\n                paddingBlockEnd: 0,\n              }}\n            >\n              <Inline\n                align=\"center\"\n                as=\"footer\"\n                gap=\"md\"\n                justify=\"flex-end\"\n                stretch=\"start\"\n              >\n                {isNotUndefined(onReset) && (\n                  <div>\n                    <Button size=\"sm\" variant=\"ghost\" onClick={onReset}>\n                      {resetLabel}\n                    </Button>\n                  </div>\n                )}\n                <Inline gap={SpaceSizes.sm} justify=\"flex-end\">\n                  <Button size=\"sm\" variant=\"subtle\" onClick={onClose}>\n                    {closeLabel}\n                  </Button>\n                  <Button size=\"sm\" onClick={onSubmit}>\n                    {submitLabel}\n                  </Button>\n                </Inline>\n              </Inline>\n            </Padbox>\n          </Bleed>\n        </Stack>\n      </Padbox>\n    </ControlledDropdown>\n  );\n};\n\nControlDropdown.propTypes = {\n  title: PropTypes.string.isRequired,\n  parentRef: PropTypes.exact({\n    current:\n      typeof Element === 'undefined'\n        ? PropTypes.any\n        : PropTypes.instanceOf(HTMLSpanElement),\n  }).isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool,\n  submitLabel: PropTypes.string,\n  closeLabel: PropTypes.string,\n  resetLabel: PropTypes.string,\n  placement: PropTypes.oneOf(Object.values(ControlDropdownPlacements)),\n  width: PropTypes.number,\n  onReset: PropTypes.func,\n};\n\nexport default ControlDropdown;\n"],"names":["cov_20koanr1x9","path","hash","global","gcv","coverageData","coverage","actualCoverage","Bleed","s","styled","div","withConfig","displayName","componentId","children","title","parentRef","isOpen","onClose","onReset","onSubmit","submitLabel","closeLabel","resetLabel","placement","bottomLeft","width","ControlDropdownPlacements","b","useState","useEffect","setMounted","f","current","jsx","ControlledDropdown","className","CLX_COMPONENT","borderTop","paddingBlockEnd","triggerEl","isNotUndefined","Padbox","paddingSize","SpaceSizes","md","jsxs","Inline","align","as","gap","ControlDropdown","PropTypes","exact","CloseButton","isRequired","number","func"],"mappings":"wnDAewB,SAAAA,GAAA,CAAA,IAAAC,EAAA,iGAAAC,EAAA,2CAAAC,EAAA,OAAAC,EAAA,eAAAC,EAAA,CAAA,KAAA,iGAAA,aAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,IAAA,OAAA,CAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,KAAA,gBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,KAAA,gBAAA,KAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,UAAA,CAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,KAAA,KAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,CAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,OAAA,OAAA,MAAA,EAAA,IAAA,CAAA,KAAA,OAAA,OAAA,MAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,EAAA,KAAA,cAAA,UAAA,CAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,CAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,EAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,OAAA,EAAA,EAAA,IAAA,CAAA,KAAA,GAAA,OAAA,GAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA,EAAA,CAAA,IAAA,CAAA,MAAA,C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"}