{"version":3,"file":"ColumnResizing.stories-BMAZo81s.js","sources":["../../../src/components/DatatableV2/stories/ColumnResizing.stories.tsx"],"sourcesContent":["import { useRef, useState } from 'react';\nimport { Meta } from '@storybook/react';\nimport { ColumnSizingState, OnChangeFn } from '@tanstack/react-table';\n\nimport Datatable from '../Datatable';\nimport Template, { Story, columns } from './Template';\nimport argTypes from './argTypes';\n\nexport default {\n  title: 'components/DatatableV2/ColumnResizing',\n  component: Datatable,\n  parameters: {\n    screenshot: { skip: true },\n  },\n  argTypes,\n} as Meta<typeof Datatable>;\n\nexport const ColumnResizingEnabled: Story = Template.bind({});\nColumnResizingEnabled.args = Template.args;\n\nexport const DisabledColumnResizing: Story = Template.bind({});\nDisabledColumnResizing.args = { ...Template.args, enableColumnResizing: false };\n\nexport const DisabledColumnResizingForColumn: Story = Template.bind({});\nDisabledColumnResizingForColumn.args = {\n  ...Template.args,\n  columns: [\n    ...columns,\n    { accessorKey: 'country', header: 'Country', enableResizing: false },\n  ],\n};\n\nexport const CustomDefaultColumnsWidth: Story = Template.bind({});\nCustomDefaultColumnsWidth.args = {\n  ...Template.args,\n  defaultColumn: {\n    minSize: 200,\n    size: 250,\n    maxSize: 350,\n  },\n};\nCustomDefaultColumnsWidth.parameters = {\n  screenshot: { skip: false },\n};\n\nexport const SpecificSizingForColumn: Story = Template.bind({});\nSpecificSizingForColumn.args = {\n  ...Template.args,\n  columns: [\n    { accessorKey: 'country', header: 'Country', size: 400 },\n    ...columns,\n  ],\n};\n\nexport const InitialColumnResizing: Story = Template.bind({});\nInitialColumnResizing.args = {\n  ...Template.args,\n  initialState: {\n    columnSizing: { 'organization.name': 300 },\n  },\n};\nInitialColumnResizing.parameters = {\n  screenshot: { skip: false },\n};\n\nexport const ColumnResizingManagedState: Story = (args) => {\n  const [columnSizing, setColumnSizing] = useState<ColumnSizingState>({\n    'organization.name': 300,\n  });\n\n  const timeout = useRef<number | null>(null);\n\n  // We recommend to debounce the column resizing due to high performance impact\n  const debouncedSetColumnSizing: OnChangeFn<ColumnSizingState> = (params) => {\n    if (timeout.current) {\n      window.cancelAnimationFrame(timeout.current);\n    }\n    timeout.current = window.requestAnimationFrame(() => {\n      setColumnSizing(params);\n    });\n  };\n\n  return (\n    <>\n      <Datatable\n        state={{ columnSizing }}\n        onColumnSizingChange={debouncedSetColumnSizing}\n        {...args}\n      />\n      <div>\n        <strong>Debug:</strong>\n        <pre>{JSON.stringify(columnSizing, null, 2)}</pre>\n      </div>\n    </>\n  );\n};\nColumnResizingManagedState.args = Template.args;\n"],"names":["component","ColumnResizing_stories","parameters","screenshot","skip","argTypes","ColumnResizingEnabled","Template","bind","args","DisabledColumnResizing","enableColumnResizing","DisabledColumnResizingForColumn","columns","accessorKey","header","enableResizing","CustomDefaultColumnsWidth","defaultColumn","minSize","size","maxSize","SpecificSizingForColumn","InitialColumnResizing","initialState","columnSizing","ColumnResizingManagedState","setColumnSizing","useState","timeout","useRef","params","cancelAnimationFrame","current","requestAnimationFrame","window","jsxs","Fragment","jsx","Datatable","JSON","stringify"],"mappings":"ypEAUEA,MAAoBC,GAAA,CACpBC,MAAAA,wCACEC,UAAAA,EAAcC,WAAM,CAAKD,WAAA,CAAAC,KAAA,EAAA,CAC3B,EACAC,SAAAA,CACF,EAGAC,EAA0CC,EAAAC,KAAA,EAAA,EAE1CF,EAAmCG,KAAAF,EAAOE,KACCC,MAAAA,EAAKH,EAAAC,KAAA,EAAA,EAAEG,EAAsBF,KAAA,CAAA,GAAAF,EAAAE,KAAAE,qBAAA,EAAA,EAE3DC,MAAAA,EAAyCL,EAASC,KAAK,EAAE,EACtEI,EAAgCH,KAAO,CACrC,GAAGF,EAASE,KACZI,QAAS,CAELC,GAAAA,EAAwBC,CAAAA,YAAiB,UAAAA,OAAA,UAAAC,eAAA,EAAA,CAAA,GAIlCC,MAAAA,EAAmCV,EAASC,KAAK,EAAE,EAChES,EAA0BR,KAAO,CAC/B,GAAGF,EAASE,KACZS,cAAe,CACbC,QAAS,IACTC,KAAM,IACNC,QAAS,GACX,CACF,EACAJ,EAA0Bf,WAAa,CACrCC,WAAY,CAAAC,KAAA,EAAA,CAAEA,EACfkB,MAAAA,EAAAf,EAAAC,KAAA,EAAA,EAEDc,EAAoCb,KAAA,CACb,GAAAF,EAAAE,KACrBI,QAAGN,CACHM,CAAAA,YACE,UAAAE,OAAA,UAAAK,KAAA,GAAA,EAAEN,GAAAA,CAAAA,CAA2CM,EAGhDG,MAAAA,EAAAhB,EAAAC,KAAA,EAAA,EAEDe,EAAkCd,KAAA,CACb,GAAAF,EAAAE,KACnBe,aAAgB,CAChBA,aAAc,CAAA,oBAAA,GAAA,CACZC,CAAgB,EAAyBF,EAAArB,WAAA,CAC3CC,WAAA,CAAAC,KAAA,EAAA,CACF,EAEED,MAAYuB,EAAAjB,GAAA,CAAEL,KAAI,CAAEqB,EAAAE,CAAA,EAAAC,WAAA,CAAM,oBAAA,GAAA,CAC3B,EAGOC,EAAaC,aAA6B,EAI1CD,EAAqCE,GAAA,YAE3CC,OAAAA,qBAAAH,EAAAI,OAAA,EAEMJ,EAAAA,QAAQI,OAASC,sBAAA,IAAA,CACnBC,EAA2BJ,CAAA,CAAA,CAC7B,CAAA,EAGA,OAIAK,EAAA,KAAAC,WAAA,CAAA,SAAA,CAAAC,MAAAC,GACG,MAAA,CACCd,aAAAA,CAASA,EAAAA,qBAAAA,EACThB,GAAAA,EAAA,SAIR,MACQ,CAAA,SAAA,CAAA6B,EAAAA,IAAC,UAAKE,SAAc,QAAA,CAAA,QACjB,MAAAA,CAAAA,SAAAA,KAAAC,UAAAhB,EAAA,KAAA,CAAA,EAAA,CAAA,EACJ,CAEN,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;"}