{"version":3,"file":"renderers.stories-DW8rjMD_.js","sources":["../../../src/components/_internal/BaseTable/renderers/renderers.stories.tsx"],"sourcesContent":["import { ReactNode } from 'react';\nimport { Meta, StoryFn } from '@storybook/react';\nimport { Row } from 'react-table';\nimport { MemoryRouter } from 'react-router-dom';\nimport { equals, F as stubFalse } from 'ramda';\nimport { action } from '@storybook/addon-actions';\n\nimport { composeQuery } from '../mocks/columns';\nimport { BaseTableContainer, StyledBaseTable } from '../BaseTable.styles';\nimport CellRenderer from './CellRenderer';\nimport { CellRendererProps } from './renderers.types';\nimport { CellTypes } from './renderers.enums';\nimport { abbreviateNumber } from '../../../../utils';\n\nexport default {\n  title: 'components/Datatable/internalComponents/Table/renderers',\n  component: CellRenderer,\n  decorators: [\n    (storyFn) => (\n      <MemoryRouter>\n        <div style={{ width: '400px', margin: '0 auto' }}>\n          <BaseTableContainer tabIndex={0}>\n            <StyledBaseTable>\n              <tbody>\n                <tr>\n                  <td className=\"ds-table-cell\">{storyFn()}</td>\n                </tr>\n              </tbody>\n            </StyledBaseTable>\n          </BaseTableContainer>\n        </div>\n      </MemoryRouter>\n    ),\n  ],\n  parameters: {\n    viewMode: 'story',\n    docs: { disable: true },\n    previewTabs: { 'storybook/docs/panel': { hidden: true } },\n  },\n} as Meta;\n\ntype CellRendererData = {\n  column1: string;\n  column2: string[];\n};\n\nconst LinkComponent = ({\n  to,\n  children,\n  className,\n}: {\n  to: string;\n  className: string;\n  children: ReactNode;\n}) => (\n  <a className={className} href={to}>\n    {children}\n  </a>\n);\n\ntype Story = StoryFn<CellRendererProps<CellRendererData>>;\n\n/**\n *  DEFAULT RENDERER\n */\nexport const Default: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nDefault.args = {\n  value: 'value',\n  column: {\n    cellType: CellTypes.text,\n    nullCondition: stubFalse,\n  },\n  row: {\n    original: { column1: 'value', column2: ['value1', 'value2'] },\n  } as Row<CellRendererData>,\n};\n\nexport const WithNullValue: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nWithNullValue.args = {\n  ...Default.args,\n  value: 'unknown',\n  column: {\n    ...Default.args.column,\n    nullCondition: equals('unknown'),\n  },\n};\n\nexport const WithCustomNullValue: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nWithCustomNullValue.args = {\n  ...WithNullValue.args,\n  column: {\n    ...WithNullValue.args.column,\n    nullConditionValue: 'NaN',\n  },\n};\n\nexport const NullValueWithTooltip: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nNullValueWithTooltip.args = {\n  ...WithCustomNullValue.args,\n  column: {\n    ...WithCustomNullValue.args.column,\n    cellTooltipPopupComposer: (val, row) => (\n      <div>\n        Value: {val}\n        <br />\n        Row data: <br />\n        <pre>{JSON.stringify(row, null, 2)}</pre>\n      </div>\n    ),\n  },\n};\n\n/**\n *  TEXT RENDERER\n */\nexport const TextWithTooltip: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nTextWithTooltip.args = {\n  ...Default.args,\n  column: {\n    ...Default.args.column,\n    cellTooltipPopupComposer: (val, row) => (\n      <div>\n        Value: {val}\n        <br />\n        Row data: <br />\n        <pre>{JSON.stringify(row, null, 2)}</pre>\n      </div>\n    ),\n  },\n};\nexport const TextWithCustomFormatter: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nTextWithCustomFormatter.args = {\n  ...Default.args,\n  value: 123456789,\n  column: {\n    ...Default.args.column,\n    cellFormatter: abbreviateNumber,\n  },\n};\n\n/**\n *  MULTIVALUE RENDERER\n */\nexport const MultiValue: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nMultiValue.args = {\n  ...Default.args,\n  value: ['value1', 'value2', 'value3', 'value4', 'value5'],\n  column: {\n    ...Default.args.column,\n    cellType: CellTypes.multiValue,\n  },\n};\nexport const MultiValueWithOnClick: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nMultiValueWithOnClick.args = {\n  ...MultiValue.args,\n  column: {\n    ...MultiValue.args.column,\n    cellOnClick: action('onCellValueClick'),\n  },\n};\nexport const MultiValueWithAbsoluteLink: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nMultiValueWithAbsoluteLink.args = {\n  ...MultiValue.args,\n  column: {\n    ...MultiValue.args.column,\n    cellHrefComposer: (val, row) => `?value=${val}&${composeQuery(row)}`,\n  },\n};\nexport const MultiValueWithRelativeLink: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nMultiValueWithRelativeLink.args = {\n  ...MultiValue.args,\n  column: {\n    ...MultiValue.args.column,\n    cellToComposer: (val, row) => `?value=${val}&${composeQuery(row)}`,\n    cellLinkComponent: LinkComponent,\n  },\n};\nexport const MultiValueWithTooltip: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nMultiValueWithTooltip.args = {\n  ...MultiValue.args,\n  column: {\n    ...MultiValue.args.column,\n    cellTooltipPopupComposer: (val, row) => (\n      <div>\n        Pill value: {val}\n        <br />\n        Row data: <br />\n        <pre>{JSON.stringify(row, null, 2)}</pre>\n      </div>\n    ),\n  },\n};\nexport const MultiValueWithDisabledDisplayLimit: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nMultiValueWithDisabledDisplayLimit.args = {\n  ...MultiValue.args,\n  column: {\n    ...MultiValue.args.column,\n    multiValueDisplayLimit: 0,\n  },\n};\nexport const MultiValueWithCustomFormatter: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nMultiValueWithCustomFormatter.args = {\n  ...MultiValue.args,\n  value: [1235678, 987654, 654213],\n  column: {\n    ...MultiValue.args.column,\n    cellFormatter: abbreviateNumber,\n  },\n};\n\n/**\n *  LINK RENDERER\n */\nexport const LinkWithOnClick: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nLinkWithOnClick.args = {\n  ...Default.args,\n  column: {\n    ...Default.args.column,\n    cellType: CellTypes.link,\n    cellOnClick: action('onCellValueClick'),\n  },\n};\nexport const LinkWithAbsoluteLink: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nLinkWithAbsoluteLink.args = {\n  ...LinkWithOnClick.args,\n  column: {\n    ...LinkWithOnClick.args.column,\n    cellHrefComposer: (val, row) => `?value=${val}&${composeQuery(row)}`,\n  },\n};\nexport const LinkWithRelativeLink: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nLinkWithRelativeLink.args = {\n  ...LinkWithOnClick.args,\n  column: {\n    ...LinkWithOnClick.args.column,\n    cellToComposer: (val, row) => `?value=${val}&${composeQuery(row)}`,\n    cellLinkComponent: LinkComponent,\n  },\n};\nexport const LinkWithTooltip: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nLinkWithTooltip.args = {\n  ...LinkWithOnClick.args,\n  column: {\n    ...LinkWithOnClick.args.column,\n    cellTooltipPopupComposer: (val, row) => (\n      <div>\n        Value: {val}\n        <br />\n        Row data: <br />\n        <pre>{JSON.stringify(row, null, 2)}</pre>\n      </div>\n    ),\n  },\n};\nexport const LinkWithCustomFormatter: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nLinkWithCustomFormatter.args = {\n  ...LinkWithOnClick.args,\n  value: 123456789,\n  column: {\n    ...LinkWithOnClick.args.column,\n    cellFormatter: abbreviateNumber,\n  },\n};\n\n/**\n *  DISCRETE LINK RENDERER\n */\nexport const DiscreteLinkWithOnClick: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nDiscreteLinkWithOnClick.args = {\n  ...Default.args,\n  column: {\n    ...Default.args.column,\n    cellType: CellTypes.discreteLink,\n    cellOnClick: action('onCellValueClick'),\n  },\n};\nexport const DiscreteLinkWithAbsoluteLink: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nDiscreteLinkWithAbsoluteLink.args = {\n  ...DiscreteLinkWithOnClick.args,\n  column: {\n    ...DiscreteLinkWithOnClick.args.column,\n    cellHrefComposer: (val, row) => `?value=${val}&${composeQuery(row)}`,\n  },\n};\nexport const DiscreteLinkWithRelativeLink: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nDiscreteLinkWithRelativeLink.args = {\n  ...DiscreteLinkWithOnClick.args,\n  column: {\n    ...DiscreteLinkWithOnClick.args.column,\n    cellToComposer: (val, row) => `?value=${val}&${composeQuery(row)}`,\n    cellLinkComponent: LinkComponent,\n  },\n};\nexport const DiscreteLinkWithTooltip: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nDiscreteLinkWithTooltip.args = {\n  ...DiscreteLinkWithOnClick.args,\n  column: {\n    ...DiscreteLinkWithOnClick.args.column,\n    cellTooltipPopupComposer: (val, row) => (\n      <div>\n        Value: {val}\n        <br />\n        Row data: <br />\n        <pre>{JSON.stringify(row, null, 2)}</pre>\n      </div>\n    ),\n  },\n};\nexport const DiscreteLinkWithCustomFormatter: Story = (args) => (\n  <CellRenderer<CellRendererData> {...args} />\n);\nDiscreteLinkWithCustomFormatter.args = {\n  ...DiscreteLinkWithOnClick.args,\n  value: 123456789,\n  column: {\n    ...DiscreteLinkWithOnClick.args.column,\n    cellFormatter: abbreviateNumber,\n  },\n};\n"],"names":["component","renderers_stories","decorators","CellRenderer","width","margin","MemoryRouter","jsx","BaseTableContainer","StyledBaseTable","storyFn","parameters","viewMode","disable","previewTabs","hidden","LinkComponent","to","children","className","Default","args","column","nullCondition","value","row","original","CellTypes","text","column1","stubFalse","column2","Row","CellRendererData","WithNullValue","equals","nullConditionValue","WithCustomNullValue","cellTooltipPopupComposer","NullValueWithTooltip","val","JSON","stringify","TextWithTooltip","Story","cellFormatter","abbreviateNumber","TextWithCustomFormatter","multiValue","MultiValue","MultiValueWithAbsoluteLink","cellHrefComposer","cellType","MultiValueWithOnClick","cellToComposer","cellLinkComponent","action","composeQuery","MultiValueWithDisabledDisplayLimit","multiValueDisplayLimit","MultiValueWithTooltip","LinkWithAbsoluteLink","LinkWithRelativeLink","LinkWithOnClick","link","DiscreteLinkWithOnClick","LinkWithTooltip","LinkWithCustomFormatter"],"mappings":"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"}