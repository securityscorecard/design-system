import{j as g}from"./jsx-runtime-Cw0GR0a5.js";import{r as i}from"./index-CTjT7uj6.js";import{P as t}from"./index-BRV0Se7Z.js";import{X as F,i as N,s as q,g as d,S as l,k as p,F as $,G as H,H as L,r as z,a6 as T,A as C,h as W,P as E}from"./space-BY85GhUc.js";import{a as M}from"./DSProvider-eD554_K8.js";import"./theme-DztFT9GZ.js";import"./index-DFvsTZbx.js";import{u as X}from"./usePopper-B6Vq3Q19.js";import{u as G,a as K}from"./useOuterCallback-Mi4Xn43N.js";import{n as x}from"./noop-CRTpovv1.js";import{m as D}from"./mergeRefs-BUQjZHg5.js";import"./Surface-CvF-S7pg.js";import{P as U}from"./Padbox-CsIyVOa3.js";import"./Stack-vWwwEz_d.js";import"./Inline-CNottUT6.js";import"./Cluster-BOKWm1iB.js";import{u as B}from"./FloatingContext-CTHtuARV.js";const he={click:"click",hover:"hover",focus:"focus"},R={auto:"auto",autoStart:"auto-start",autoEnd:"auto-end",top:"top",bottom:"bottom",right:"right",left:"left",topStart:"top-start",topEnd:"top-end",bottomStart:"bottom-start",bottomEnd:"bottom-end",rightStart:"right-start",rightEnd:"right-end",leftStart:"left-start",leftEnd:"left-end"},J=({triggerEl:e,paneEl:o,arrowEl:a,placement:s="bottom-start"})=>{const{space:r}=F(),n=N(a)?[{name:"arrow",options:{element:a}}]:[];return X(e,o,{placement:s,modifiers:[...n,{name:"offset",options:{offset:[0,r.sm]}},{name:"flip",options:{padding:r.sm}}]})},Q=({onShow:e=x,onHide:o=x,hasInternalShowHide:a=!1,defaultIsPortalVisible:s=!1}={})=>{const{portalsContainerId:r}=i.useContext(M),{Portal:n,isShow:m,show:c,hide:f,toggle:v}=G({containerId:r,autoRemoveContainer:!1,defaultShow:s,internalShowHide:a,onShow:e,onHide:o});return{togglePortal:v,showPortal:c,hidePortal:f,isPortalVisible:m,Portal:n}},u=q.div.withConfig({displayName:"DropdownPane__Arrow",componentId:"sc-15bzzh5-0"})(["visibility:hidden;&,&::before{position:absolute;width:",";height:",";background:inherit;z-index:0;}&::before{visibility:visible;content:'';background:",";border-left:1px solid ",";border-top:1px solid ",";}"],d(l.sm),d(l.sm),p("neutral.0"),p("neutral.300"),p("neutral.300")),Y=q.div.withConfig({displayName:"DropdownPane__StyledDropdownPane",componentId:"sc-15bzzh5-1"})(["position:absolute;color:",";font-family:",";font-size:",";line-height:",";border-radius:",";border:1px solid ",";z-index:",";"," &[data-popper-placement^='top'] > ","{bottom:",";&:before{transform:rotate(225deg);}}&[data-popper-placement^='bottom'] > ","{top:",";&:before{transform:rotate(45deg);}}&[data-popper-placement^='left'] > ","{right:",";&:before{transform:rotate(135deg);}}&[data-popper-placement^='right'] > ","{left:",";&:before{transform:rotate(315deg);}}",";"],p("neutral.900"),$("base"),H("md"),L("md"),z("default"),p("neutral.300"),({$isInFloatingElement:e,theme:o})=>e?T("modal",{theme:o})+1:T("dropdown",{theme:o}),({$maxWidth:e})=>C(["width:",";max-width:",";"],e==="auto"?"auto":"100%",e==="auto"?"auto":W(e)),u,({theme:e})=>`calc(${d(l.sm,{theme:e})} / -2)`,u,({theme:e})=>`calc(${d(l.sm,{theme:e})} / -2)`,u,({theme:e})=>`calc(${d(l.sm,{theme:e})} / -2)`,u,({theme:e})=>`calc(${d(l.sm,{theme:e})} / -2)`,({$isElevated:e})=>e&&C(["border-color:transparent;filter:drop-shadow(0px 0px 8px rgba(0,0,0,0.25));& > ",":before{border-color:transparent;}"],u)),Z=q(U).withConfig({displayName:"DropdownPane__PaneContent",componentId:"sc-15bzzh5-2"})(["border-radius:",";position:relative;z-index:1;background:",";"],z("default"),p("neutral.0")),b=i.forwardRef(({children:e,onClickOut:o=x,isElevated:a,hasArrow:s,arrowRef:r,arrowStyles:n,contentPaddingSize:m,contentPaddingType:c,maxWidth:f,...v},h)=>{const P=K(o),w=B()??!1;return g.jsxs(Y,{ref:D(P,h),$isElevated:a,$isInFloatingElement:w,$maxWidth:f,...v,"data-testid":"dropdown-pane",children:[g.jsx(Z,{paddingSize:m,paddingType:c,children:e}),s&&g.jsx(u,{ref:r,style:n})]})});b.displayName="DropdownPane";b.propTypes={isElevated:t.bool.isRequired,maxWidth:t.oneOfType([t.number,t.oneOf(["auto"])]).isRequired,hasArrow:t.bool.isRequired,arrowRef:t.func.isRequired,arrowStyles:t.shape({}),contentPaddingSize:t.oneOf(Object.values(l)),contentPaddingType:t.oneOf(Object.values(E)),onClickOut:t.func};b.__docgenInfo={description:"",methods:[],displayName:"DropdownPane",props:{onClickOut:{defaultValue:{value:"noop",computed:!0},description:"",type:{name:"func"},required:!1},isElevated:{description:"",type:{name:"bool"},required:!0},maxWidth:{description:"",type:{name:"union",value:[{name:"number"},{name:"enum",value:[{value:"'auto'",computed:!1}]}]},required:!0},hasArrow:{description:"",type:{name:"bool"},required:!0},arrowRef:{description:"",type:{name:"func"},required:!0},arrowStyles:{description:"",type:{name:"shape",value:{}},required:!1},contentPaddingSize:{description:"",type:{name:"enum",value:[{value:'"none"',computed:!1},{value:'"xxs"',computed:!1},{value:'"xs"',computed:!1},{value:'"sm"',computed:!1},{value:'"md"',computed:!1},{value:'"mdPlus"',computed:!1},{value:'"lg"',computed:!1},{value:'"lgPlus"',computed:!1},{value:'"xl"',computed:!1},{value:'"xlPlus"',computed:!1},{value:'"xxl"',computed:!1}]},required:!1},contentPaddingType:{description:"",type:{name:"enum",value:[{value:'"squish"',computed:!1},{value:'"stretch"',computed:!1},{value:'"square"',computed:!1}]},required:!1}}};const ee=`
    a[href],
    button,
    input,
    textarea,
    select,
    details
`,te=({el:e,enabled:o})=>{i.useEffect(()=>{if(!e||!o)return;const a=document.activeElement,s=r=>{setTimeout(()=>{if(r.key==="Tab"&&!e.contains(document.activeElement)){r.preventDefault();const n=e==null?void 0:e.querySelector(ee);n==null||n.focus()}},0)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),a==null||a.focus()}},[e,o])},y=i.forwardRef(({children:e,triggerEl:o,isOpen:a,placement:s=R.bottomStart,innerPaddingSize:r=l.md,innerPaddingType:n=E.square,maxPaneWidth:m=270,isPaneElevated:c=!1,hasPaneArrow:f=!1,focusTrap:v=!0,onClickOut:h,style:P={},...w},k)=>{const[S,j]=i.useState(null),[A,V]=i.useState(null),{styles:O,attributes:_}=J({triggerEl:o,paneEl:S,arrowEl:A,placement:s});te({el:S,enabled:a&&v});const{Portal:I}=Q();return a?g.jsx(I,{children:g.jsx(b,{ref:D(k,j),arrowRef:V,arrowStyles:O.arrow,contentPaddingSize:r,contentPaddingType:n,hasArrow:f,isElevated:c,maxWidth:m,style:{...O.popper,...P},onClickOut:h,...w,..._.popper,children:e})}):null});y.displayName="ControlledDropdown";y.propTypes={isOpen:t.bool.isRequired,triggerEl:typeof Element>"u"?t.any:t.instanceOf(HTMLElement),placement:t.oneOf(Object.values(R)),innerPaddingSize:t.oneOf(Object.values(l)),innerPaddingType:t.oneOf(Object.values(E)),maxPaneWidth:t.oneOfType([t.number,t.oneOf(["auto"])]),isPaneElevated:t.bool,hasPaneArrow:t.bool,onClickOut:t.func};const Pe=y;y.__docgenInfo={description:"",methods:[],displayName:"ControlledDropdown",props:{placement:{defaultValue:{value:"'bottom-start'",computed:!1},description:"",type:{name:"enum",value:[{value:'"auto"',computed:!1},{value:'"auto-start"',computed:!1},{value:'"auto-end"',computed:!1},{value:'"top"',computed:!1},{value:'"bottom"',computed:!1},{value:'"right"',computed:!1},{value:'"left"',computed:!1},{value:'"top-start"',computed:!1},{value:'"top-end"',computed:!1},{value:'"bottom-start"',computed:!1},{value:'"bottom-end"',computed:!1},{value:'"right-start"',computed:!1},{value:'"right-end"',computed:!1},{value:'"left-start"',computed:!1},{value:'"left-end"',computed:!1}]},required:!1},innerPaddingSize:{defaultValue:{value:"'md'",computed:!1},description:"",type:{name:"enum",value:[{value:'"none"',computed:!1},{value:'"xxs"',computed:!1},{value:'"xs"',computed:!1},{value:'"sm"',computed:!1},{value:'"md"',computed:!1},{value:'"mdPlus"',computed:!1},{value:'"lg"',computed:!1},{value:'"lgPlus"',computed:!1},{value:'"xl"',computed:!1},{value:'"xlPlus"',computed:!1},{value:'"xxl"',computed:!1}]},required:!1},innerPaddingType:{defaultValue:{value:"'square'",computed:!1},description:"",type:{name:"enum",value:[{value:'"squish"',computed:!1},{value:'"stretch"',computed:!1},{value:'"square"',computed:!1}]},required:!1},maxPaneWidth:{defaultValue:{value:"270",computed:!1},description:"",type:{name:"union",value:[{name:"number"},{name:"enum",value:[{value:"'auto'",computed:!1}]}]},required:!1},isPaneElevated:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},hasPaneArrow:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},focusTrap:{defaultValue:{value:"true",computed:!1},required:!1},style:{defaultValue:{value:"{}",computed:!1},required:!1},isOpen:{description:"",type:{name:"bool"},required:!0},triggerEl:{description:"",type:{name:"custom",raw:`typeof Element === 'undefined'
? PropTypes.any
: PropTypes.instanceOf(HTMLElement)`},required:!1},onClickOut:{description:"",type:{name:"func"},required:!1}}};export{Pe as C,R as D,he as a};
