{"version":3,"file":"BatchActions-BmCHTfyR.js","sources":["../../src/components/Datatable/BatchModule/BatchActions/BatchActions.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport styled from 'styled-components';\nimport { map } from 'ramda';\nimport { isNotUndefined } from 'ramda-adjunct';\n\nimport { SpaceSizes } from '../../../../theme';\nimport { SSCIconNames } from '../../../../theme/icons/icons.enums';\nimport { pxToRem } from '../../../../utils';\nimport { Inline } from '../../../layout';\nimport { BaseButton } from '../../../_internal/BaseButton';\nimport { ButtonVariants } from '../../../Button/Button.enums';\nimport { Icon } from '../../../Icon';\nimport {\n  AbsoluteLinkActionKind,\n  ActionWithSubactions,\n  RelativeLinkActionKind,\n} from '../../../../types/action.types';\nimport { DropdownMenu } from '../../../_internal/BaseDropdownMenu';\nimport { BatchActionsProps } from './BatchActions.types';\nimport { DatatableStore } from '../../Datatable.store';\nimport { BatchActionArgs } from '../../Datatable.types';\nimport { Tooltip } from '../../../Tooltip';\n\nconst BatchActionButton = styled(BaseButton)`\n  padding: ${pxToRem(9.5, 16)};\n  line-height: ${pxToRem(13)};\n  height: 2.25rem;\n`;\n\nconst BatchActions = ({ actions }: BatchActionsProps) => {\n  const { selectedIds, hasExclusiveSelection } = DatatableStore.useState(\n    (s) => ({\n      selectedIds: s.selectedIds,\n      hasExclusiveSelection: s.hasExclusiveSelection,\n    }),\n  );\n\n  const handleResetSelection = () => {\n    DatatableStore.update((s) => {\n      s.shouldResetSelectedRows = true;\n    });\n  };\n\n  const handleOnActionClick = useCallback(\n    (onClick) => {\n      onClick(selectedIds, hasExclusiveSelection, handleResetSelection);\n    },\n    [selectedIds, hasExclusiveSelection],\n  );\n\n  return (\n    <Inline>\n      {actions.map((action) => {\n        let element;\n        if (\n          isNotUndefined(\n            (action as ActionWithSubactions<BatchActionArgs>).subActions,\n          )\n        ) {\n          const subActions = map(\n            (subAction) => ({\n              ...subAction,\n              onClick: () => handleOnActionClick(subAction.onClick),\n            }),\n            (action as ActionWithSubactions<BatchActionArgs>).subActions,\n          );\n\n          element = (\n            <DropdownMenu\n              key={action.name}\n              actions={subActions}\n              paneWidth={140}\n              placement=\"bottom-end\"\n            >\n              <BatchActionButton\n                name={action.name}\n                variant={ButtonVariants.text}\n                onClick={action.onClick}\n              >\n                <Inline align=\"center\" gap={SpaceSizes.xs}>\n                  <span>{action.label}</span>\n                  <Icon margin={{ left: 0.25 }} name={SSCIconNames.angleDown} />\n                </Inline>\n              </BatchActionButton>\n            </DropdownMenu>\n          );\n        } else {\n          element = (\n            <BatchActionButton\n              key={action.name}\n              href={(action as AbsoluteLinkActionKind<BatchActionArgs>).href}\n              name={action.name}\n              to={(action as RelativeLinkActionKind<BatchActionArgs>).to}\n              variant={ButtonVariants.text}\n              onClick={() => handleOnActionClick(action.onClick)}\n            >\n              {action.label}\n            </BatchActionButton>\n          );\n        }\n\n        return (\n          <Tooltip key={action.name} popup={action.tooltip}>\n            {element}\n          </Tooltip>\n        );\n      })}\n    </Inline>\n  );\n};\n\nexport default BatchActions;\n"],"names":["selectedIds","hasExclusiveSelection","useState","BatchActions","cov_1w8g1oknb","f","DatatableStore","s","handleOnActionClick","handleResetSelection","element","isNotUndefined","subActions","useCallback","onClick","jsx","Inline","children","actions","map","action"],"mappings":"wrBA8BUA,SAAAA,GAAAA,CAAAA,IAAAA,EAAAA,iHAAAA,EAAAA,2CAAAA,EAAAA,OAAAA,EAAAA,eAAAA,EAAAA,CAAAA,KAAAA,iHAAAA,aAAAA,CAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,GAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,GAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,GAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,GAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,IAAAA,OAAAA,CAAAA,CAAAA,CAAAA,EAAAA,MAAAA,CAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,CAAAA,EAAAA,KAAAA,EAAAA,EAAAA,EAAAA,CAAAA,KAAAA,gBAAAA,KAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,GAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,GAAAA,CAAAA,EAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,GAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,GAAAA,CAAAA,EAAAA,KAAAA,EAAAA,CAAAA,EAAAA,UAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,KAAAA,KAAAA,UAAAA,CAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,EAAAA,CAAAA,MAAAA,CAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,IAAAA,CAAAA,KAAAA,GAAAA,OAAAA,CAAAA,CAAAA,CAAAA,EAAAA,KAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,EAAAA,GAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,CAAAA,CAAAA,EAAAA,eAAAA,CAAAA,QAAAA,EAAAA,KAAAA,KAAAA,QAAAA,CAAAA,gHAAAA,EAAAA,MAAAA,CAAAA,cAAAA,SAAAA,MAAAA,iBAAAA,aAAAA,eAAAA,UAAAA,SAAAA,aAAAA,iBAAAA,OAAAA,eAAAA,iBAAAA,UAAAA,oBAAAA,aAAAA,cAAAA,cAAAA,eAAAA,UAAAA,cAAAA,wBAAAA,WAAAA,IAAAA,uBAAAA,SAAAA,0BAAAA,sBAAAA,UAAAA,SAAAA,UAAAA,aAAAA,YAAAA,OAAAA,OAAAA,KAAAA,QAAAA,OAAAA,YAAAA,OAAAA,KAAAA,SAAAA,EAAAA,SAAAA,qtDAAAA,EAAAA,gBAAAA,2CAAAA,KAAAA,0CAAAA,EAAAA,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,CAAAA,EAAAA,CAAAA,IAAAA,CAAAA,EAAAA,CAAAA,GAAAA,EAAAA,CAAAA,EAAAA,OAAAA,KAAAA,EAAAA,CAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,CAAAA,EAAAA,OAAAA,EAAAA,UAAAA,CAAAA,OAAAA,CAAAA,EAAAA,CAAAA,CAAAA,EAAAA,EAAF,MAAEA,GAAAA,EAAAA,EAAAA,EAAAA,CAAAA,IAAAA,EAAAA,CAAAA,EAAAA,WAAAA,CAAAA,YAAAA,kCAAAA,YAAAA,aAAAA,CAAaC,EAAAA,CAAAA,WAAAA,gBAAAA,kBAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAyCC,EAAAA,EAAAA,CAAAA,GAAAA,EAAAA,EAAAA,EAAAA,CAAAA,IAO9D,MAAAC,aAAmC,IAAA,CAAAC,EAAA,EAAAC,EACjCC,CAAAA,IAAAA,KAAAA,CAAAA,YAAAA,yBAA6B,GAAAF,EAAA,EAAAG,OAAAD,EAAAJ,SAC3BK,IAA4BH,EAAAC,EAAAA,EAAAD,CAAAA,IAAAA,EAAAG,EAAAA,EAC7BP,CAAAA,IAAAA,CAAAA,YAAAO,EAAAP,YACHC,sBAAAM,EAAAN,qBAEMO,EAEMR,GAAAA,EAAAA,EAAAA,EAAAA,CAAAA,IAKZ,MAAAS,EACGA,IAAA,CAAAL,EAAA,EAAAC,EAAA,CAAA,IAAAD,EAAA,EAAAG,EAAA,CAAA,IAEOG,EAAAA,OAAAA,GAAAA,CAAAA,IAAAA,EAAAA,CAAAA,IAAAA,IAAAA,EAEFC,CAAAA,IAAAA,EAAAA,wBACoDC,EAG9CA,CAAAA,CACY,EAGhBJ,GAAAJ,EAAA,EAAAG,EAAA,CAAA,IAEFM,EAAA,YAGEC,GAAA,CAAAV,EAAA,EAAAC,EAAAD,CAAAA,IAAAA,EAAAG,EAAAA,EAYOO,CAAAA,IAAAA,EAAAd,EAAAC,GAAmB,CACpB,EAAc,CAAAD,EAAQC,CAAA,CAAK,GAAAG,OAAAA,EAAA,EAAAG,EAGjC,CAAA,IAIAQ,EAAA,IAAAC,EAWJC,CAAAA,SAAAC,EAAAC,IAAAC,GAAA,CAAAhB,EAAA,EAAAC,EAAA,CAAA,IAEA,MAMJ,SAAA,EAAA,IAEJM,EAEeR,EAAAA;;;;;;;;;;;;;;;;;;"}