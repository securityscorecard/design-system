import{j as B}from"./jsx-runtime-CfatFE5O.js";import{r as l}from"./index-ClcD9ViR.js";import{a}from"./chunk-D5ZWXAHU-CGElDDNX.js";import{a as g}from"./ipAssets-SxWzzl5Q.js";import{s as K}from"./columns-CH7fk_T3.js";import{c as z}from"./docs-DDk2NwFs.js";import{f as V}from"./options-CNQFbiHg.js";import{b as M,d as E}from"./actions-WpJhan-L.js";import{a as U,d as j}from"./defaultConfigs-C9d7V8_5.js";import{D as T}from"./Datatable-C_lYVH2N.js";import{M as N}from"./react-router-dom-CPhVUpqL.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./v4-CQkTLCs1.js";import"./dayjs.min-DE2R3_3L.js";import"./index-fVh6sz_B.js";import"./styled-components.browser.esm-6IU7b-y2.js";import"./index-DxcpycWO.js";import"./constants-CHqWh-7J.js";import"./index-BlmJOztB.js";import"./Tooltip-CNTka1Rj.js";import"./DSProvider-oeie4wyM.js";import"./index-_KdZNTQd.js";import"./theme-VOBSdC0d.js";import"./colors-2yNNI7_i.js";import"./_isObject-BZZHHNGj.js";import"./index-D-VPAycD.js";import"./index-C2fNon3Z.js";import"./space.enums-BIVz6JhH.js";import"./slice-a4xO8Rfj.js";import"./index-D4bv78R3.js";import"./Padbox-QeDNAg-Y.js";import"./index-CJqnHCRB.js";import"./prop-DxwKVRPv.js";import"./Inline-CJoeeTWo.js";import"./Inline.enums-L64S19IZ.js";import"./Cluster-EcHytK4z.js";import"./useLogger-BIFF4Ira.js";import"./FloatingContext-Iczo9egI.js";import"./toPairs-3reRMBbj.js";import"./Filters-BLB-ZeD2.js";import"./index-BLQl-HhB.js";import"./index-t408_oKr.js";import"./Icon-CwDBfXxP.js";import"./index-DbwGX_n3.js";import"./index-DKZQhKLO.js";import"./Spinner-C4Y4qwgQ.js";import"./ElementLabel-CIy3SKjT.js";import"./useSafeTranslation-CTytszpq.js";import"./en-US-DTEh3xIi.js";import"./index-ByoPkNwl.js";import"./index-BMSG0TFA.js";import"./Checkbox-BsmPhLrA.js";import"./minus-rUvolOxF.js";import"./index-D_THbm3r.js";import"./Label-CKsTpMkX.js";import"./mergeRefs-D2M2BR1V.js";import"./index-CxtaxCWU.js";import"./Input-C1JG6XP9.js";import"./index-DAjbAeX4.js";import"./checkCircleSolid-D_DFWg_A.js";import"./Message-8dqQVDta.js";import"./Paragraph-YvM1PAod.js";import"./MultiValueInput-DP4XLFe8.js";import"./index-VMNEoDvM.js";import"./index-CxXlF41o.js";import"./Pill-BDetg8sM.js";import"./PillRemoveButton-CrYU6s_g.js";import"./isNonEmptyArray-C4wLiQGd.js";import"./isNotEmpty-Cz0KqVUK.js";import"./isFunction-HfV2yBmy.js";import"./pluck-CostYriq.js";import"./noop-CdhuOQYG.js";import"./isNonEmptyString-CsKwEpHF.js";import"./isNotNull-CGNDL-_A.js";import"./isNull-D8kYROfs.js";import"./trim-EFCMhnPq.js";import"./take-lXbzd5ht.js";import"./Password-CPFuiV9h.js";import"./Radio-ia9pBg6C.js";import"./index-CRj0zZ10.js";import"./Select-CB4qR96S.js";import"./useSelectProps-Bbe6VWdl.js";import"./unsupportedIterableToArray-xuqNRLo1.js";import"./setPrototypeOf-DgZC2w_0.js";import"./Button-F6ZYDBEp.js";import"./components-C9ZynCTM.js";import"./pick-DHMZF_qQ.js";import"./isNotNilOrEmpty-41baKBd6.js";import"./isNilOrEmpty-Bab5E4y5.js";import"./isNil-qfCNC9HL.js";import"./objectWithoutPropertiesLoose-CAYKN5F1.js";import"./sortBy-__X9Dmyc.js";import"./CreatableSelect-DUrX3wzh.js";import"./Range-DtTBrSMW.js";import"./Switch-eMubmboT.js";import"./subtract-BJ4gNos5.js";import"./TextArea-D85yBl7f.js";import"./SearchBar-B0CxgqxX.js";import"./SegmentedToggle-BP8nx1XD.js";import"./IconButton-D-PcuZjI.js";import"./index-CFMhr5vg.js";import"./index-DU9jjfHM.js";import"./usePopper-m9aO9_-k.js";import"./propEq-Bam_ywIa.js";import"./head-DyHR8fnf.js";import"./defaultTo-DNzM-CZZ.js";import"./BottomBar-BrKpVy2_.js";import"./all-Dx1MvGnN.js";import"./when-BW4_TdeZ.js";import"./index-DJm9ruvN.js";import"./Heading-B5b4Yu3S.js";import"./index-VaJ-WMdy.js";import"./BaseTable.styles-DG2hueJk.js";import"./index-DIJ1KhzU.js";import"./flip-Cf__ZOUJ.js";import"./Footer-Dm4xeP5E.js";import"./Pagination-Cv5QVaMl.js";import"./index-D9LlnODg.js";import"./DropdownMenu-ZxIIyCxU.js";import"./require-router-link-DOUeQ7uu.js";import"./ControlledDropdown-2pGse2SA.js";import"./useOuterCallback-CJ5emATz.js";import"./Dropdown-fROdR8FL.js";import"./Datatable.store-BENizukJ.js";import"./ControlsModule-DzOf6hyx.js";import"./index-ApovUl35.js";import"./ColumnsControls-BpGZn42I.js";import"./ControlDropdown-BWkrwuV5.js";import"./index-oSnT1g_s.js";import"./CloseButton-BnxGXhE2.js";import"./SortableList-BfeV1PWG.js";import"./sortable.esm-C-iNasD-.js";import"./modifiers.esm-ByjRBgE8.js";import"./lt-BcHieusB.js";import"./ControlButton-DdX6Ok9J.js";import"./Chip-CD_N1yiM.js";import"./utils-4cnfa2TN.js";import"./ChipLabel-C905YEbj.js";import"./omit-EE5F1hue.js";import"./zipObj-C0uoDeoJ.js";import"./BatchModule-BAiG14Xm.js";import"./BatchActions-BmCHTfyR.js";import"./index-DpDNf_6L.js";import"./ElementCounter-BtjvQ0l8.js";import"./Table-D8aw7go7.js";import"./index-DGXjUeHY.js";import"./F-CZa6y4u_.js";import"./useColumnsControls-JA7RUXBo.js";import"./useLocalStorageState-D2NPfI6N.js";import"./tiny-invariant-CopsF_GD.js";function C(){var t="/Users/radekpodrazky/Projects/design-system/src/components/Datatable/mocks/controls.ts",A="13887acdb0081f185da2102874deacd37c2fb159",o=window,r="__coverage__",n={path:"/Users/radekpodrazky/Projects/design-system/src/components/Datatable/mocks/controls.ts",statementMap:{0:{start:{line:3,column:24},end:{line:8,column:1}},1:{start:{line:9,column:30},end:{line:16,column:1}}},fnMap:{},branchMap:{},s:{0:0,1:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/Users/radekpodrazky/Projects/design-system/src/components/Datatable/mocks/controls.ts"],names:["action","fields","filteringConfig","onApply","onChange","onClose","controlsConfig","searchConfig","onSearch","onClear","onColumnVisibilityChange"],mappings:"AAAA,SAASA,cAAc;AAEvB,SAASC,cAAc;AAEvB,MAAMC,kBAAkB;AAAA,EACtBD;AAAAA,EACAE,SAASH,OAAO,gBAAgB;AAAA,EAChCI,UAAUJ,OAAO,iBAAiB;AAAA,EAClCK,SAASL,OAAO,gBAAgB;AAClC;AAEO,aAAMM,iBAAiB;AAAA,EAC5BJ;AAAAA,EACAK,cAAc;AAAA,IACZC,UAAUR,OAAO,UAAU;AAAA,IAC3BS,SAAST,OAAO,SAAS;AAAA,EAC3B;AAAA,EACAU,0BAA0BV,OAAO,wBAAwB;AAC3D;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13887acdb0081f185da2102874deacd37c2fb159"},e=o[r]||(o[r]={});(!e[t]||e[t].hash!==A)&&(e[t]=n);var s=e[t];return C=function(){return s},s}C();const q=(C().s[0]++,{fields:V,onApply:a("onFiltersApply"),onChange:a("onFiltersChange"),onClose:a("onFiltersClose")}),v=(C().s[1]++,{filteringConfig:q,searchConfig:{onSearch:a("onSearch"),onClear:a("onClear")},onColumnVisibilityChange:a("columnVisibilityChange")});function c(){var t="/Users/radekpodrazky/Projects/design-system/src/components/Datatable/Datatable.storiesTypes.ts",A="52722a8ca89c26b67f41a608cd6cafd8261e3e1e",o=window,r="__coverage__",n={path:"/Users/radekpodrazky/Projects/design-system/src/components/Datatable/Datatable.storiesTypes.ts",statementMap:{0:{start:{line:1,column:27},end:{line:16,column:2}},1:{start:{line:17,column:34},end:{line:18,column:69}},2:{start:{line:19,column:32},end:{line:23,column:1}},3:{start:{line:24,column:31},end:{line:43,column:2}},4:{start:{line:44,column:34},end:{line:52,column:2}},5:{start:{line:53,column:33},end:{line:59,column:12}}},fnMap:{},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/Users/radekpodrazky/Projects/design-system/src/components/Datatable/Datatable.storiesTypes.ts"],names:["ColumnsType","DataPrimaryKeyType","BatchActionsType","TableConfigType","ControlsConfigType","OnDataFetchFnType"],mappings:"AAAO,aAAMA,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBpB,aAAMC,qBAAqB;AAAA;AAG3B,aAAMC,mBAAmB;AAAA;AAAA;AAAA;AAAA;AAMzB,aAAMC,kBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBxB,aAAMC,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAU3B,aAAMC,oBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"52722a8ca89c26b67f41a608cd6cafd8261e3e1e"},e=o[r]||(o[r]={});(!e[t]||e[t].hash!==A)&&(e[t]=n);var s=e[t];return c=function(){return s},s}c();const J=(c().s[0]++,`{
  Header: string;
  cellType?: CellTypes;
  cellLinkComponent?: ReactComponentLike;
  cellOnClick?: (value: CellValue, rowData: D) => void;
  cellHrefComposer?: (value: CellValue, rowData: D) => string;
  cellToComposer?: (value: CellValue, rowData: D) => To;
  cellFormatter?: (value: CellValue, rowData: D) => string;
  cellTooltipPopupComposer?: (value: CellValue, rowData: D) => JSX.Element;
  nullCondition?: (value: CellValue) => boolean;
  nullConditionValue?: string;
  multiValueDisplayLimit?: number;
  headerTooltip?: JSX.Element;

  ...rest of Column options from 'react-table'
}`),H=(c().s[1]++,`| string
| (originalRow: D, relativeIndex: number, parent?: Row<D>) => string`),X=(c().s[2]++,`| HandlerActionKind
| AbsoluteLinkActionKind
| RelativeLinkActionKind
| ActionWithSubactions
`),Z=(c().s[3]++,`{
  hasSelection: boolean;
  onSelect: (
    ids: IdType<D>[],
    hasExclusiveSelection: boolean,
  ) => void;
  defaultSelectedRowIds: IdType<D>[];
  hasPagination: boolean;
  hasServerSidePagination: boolean;
  defaultPageSize: number;
  hasSorting: boolean;
  hasServerSideSorting: boolean;
  defaultSortBy: {
    id: IdType<D>;
    desc?: boolean;
  }[];
  rowActions: RowAction<D>[];
  NoMatchingDataComponent: ReactComponentLike;
  NoDataComponent: ReactComponentLike;
}`),G=(c().s[4]++,`{
  hasSearch: boolean;
  searchConfig: Partial<SearchBarProps>;
  hasFiltering: boolean;
  filteringConfig: Partial<FiltersProps>;
  defaultIsFilteringOpen: boolean;
  defaultIsFilteringApplied: boolean;
  onControlToggle: (control: Controls, isActive: boolean) => void;
}`),W=(c().s[5]++,`({
  pageSize: number;
  pageIndex: number;
  sortBy: SortingRule<D>[];
  filters: Filter[];
  query: string;
}) => void;`),Vo={title:"components/Datatable",component:T,parameters:{mockDate:new Date("2021-03-31T00:00:00Z"),screenshot:{skip:!0},docs:{source:{type:"code"},description:{component:`
\`\`\`jsx
import { Datatable } from '@securityscorecard/design-system';

const MyFancyDatatable = () => <Datatable ...props />
\`\`\`

  ${z}
      `}}},decorators:[t=>B.jsx(N,{children:t()})],argTypes:{data:{control:{disable:!0}},dataSize:{control:{disable:!0}},columns:{control:{disable:!0},table:{type:{summary:"Columns<D>[]",detail:J}}},isDataLoading:{control:{disable:!0}},pageButtonsCount:{control:{disable:!1},defaultValue:5},dataPrimaryKey:{table:{type:{summary:"PrimaryKey<D>",detail:H}}},batchActions:{table:{type:{summary:"Action[]",detail:X}}},controlsConfig:{table:{type:{summary:"Partial<ControlsConfig>",detail:G},defaultValue:{summary:"defaultControlsConfig",detail:JSON.stringify(U,null,2)}}},tableConfig:{table:{type:{summary:"Partial<TableConfig<D>>",detail:Z},defaultValue:{summary:"defaultTableConfig",detail:JSON.stringify(j,null,2)}}},onDataFetch:{control:{disable:!0},table:{type:{summary:"OnDataFetchFn<D>",detail:W},defaultValue:{summary:"noop"}}}},tags:["deprecated"]},p=t=>{const[A,o]=l.useState([]),[r,n]=l.useState(!0),[e,s]=l.useState(0),u=l.useRef(),m=l.useCallback(({pageSize:D,pageIndex:P})=>{a("onDataFetch")({pageSize:D,pageIndex:P}),n(!0),u.current=setTimeout(()=>{const w=D*P,_=w+D,x=g.slice(w,_);o(x),s(g.length),n(!1)},500)},[n,o]);l.useEffect(()=>{m({pageSize:50,pageIndex:0})},[m]);const{batchActions:h=[],controlsConfig:f={},dataPrimaryKey:y,tableConfig:i={},...b}=t,S=()=>{clearTimeout(u.current),n(!1)};return B.jsx(T,{...b,batchActions:[...h,...M],columns:K,controlsConfig:{...f,...v},data:A,dataPrimaryKey:y||"ipAddress",dataSize:e,isDataLoading:r,tableConfig:{...i,rowActions:[...(i==null?void 0:i.rowActions)||[],...E],onSelect:a("onRowSelect")},onCancelLoading:S,onDataFetch:m})};p.storyName="Playground (Server-Side implementation)";const d=t=>{const[A,o]=l.useState(g),r=l.useRef(null),n=i=>{r.current=i},e=i=>{a("onSearch")(i);const b=g.filter(S=>S.ipAddress.includes(i));o(b)},s=()=>{a("onClear")(),o(g)},{batchActions:u=[],controlsConfig:m={},dataPrimaryKey:h,tableConfig:f={},...y}=t;return B.jsx(T,{...y,batchActions:[...u,...M],columns:K,controlsConfig:{...v,...m,searchConfig:{...v.searchConfig,...m.searchConfig,onSearch:e,onClear:s}},data:A,dataPrimaryKey:h||"ipAddress",dataSize:A.length,resetSelectionFn:n,tableConfig:{...f,rowActions:[...f.rowActions||[],...E],onSelect:a("onRowSelect"),hasServerSidePagination:!1,hasServerSideSorting:!1}})};d.storyName="Playground (In-Browser implementation)";p.__docgenInfo={description:"",methods:[],displayName:"ServerSidePlayground"};d.__docgenInfo={description:"",methods:[],displayName:"InBrowserPlayground"};var R,F,k;p.parameters={...p.parameters,docs:{...(R=p.parameters)==null?void 0:R.docs,source:{originalSource:`args => {
  const [tableData, setTableData] = useState<Data[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [totalLength, setTotalLength] = useState(0);
  const timeoutRef = useRef<NodeJS.Timeout | undefined>();
  const dispatchFetchData = useCallback(({
    pageSize,
    pageIndex
  }) => {
    action('onDataFetch')({
      pageSize,
      pageIndex
    });
    setIsLoading(true);
    timeoutRef.current = setTimeout(() => {
      const startRow = pageSize * pageIndex;
      const endRow = startRow + pageSize;
      const fetchedData: Data[] = assets.slice(startRow, endRow);
      setTableData(fetchedData);
      setTotalLength(assets.length);
      setIsLoading(false);
    }, 500);
  }, [setIsLoading, setTableData]);
  useEffect(() => {
    dispatchFetchData({
      pageSize: 50,
      pageIndex: 0
    });
  }, [dispatchFetchData]);
  const {
    batchActions: argsBatchActions = [],
    controlsConfig: argsControlsConfig = {},
    dataPrimaryKey: argsDataPrimaryKey,
    tableConfig: argsTableConfig = {},
    ...restArgs
  } = args;
  const onCancelLoading = () => {
    clearTimeout(timeoutRef.current);
    setIsLoading(false);
  };
  return <Datatable<Data> {...restArgs} batchActions={[...argsBatchActions, ...datatableBatchActions]} columns={simpleColumns} controlsConfig={{
    ...argsControlsConfig,
    ...controlsConfig
  }} data={tableData} dataPrimaryKey={argsDataPrimaryKey || 'ipAddress'} dataSize={totalLength} isDataLoading={isLoading} tableConfig={{
    ...argsTableConfig,
    rowActions: [...(argsTableConfig?.rowActions || []), ...datatableRowActions],
    onSelect: action('onRowSelect')
  }} onCancelLoading={onCancelLoading} onDataFetch={dispatchFetchData} />;
}`,...(k=(F=p.parameters)==null?void 0:F.docs)==null?void 0:k.source}}};var L,O,I;d.parameters={...d.parameters,docs:{...(L=d.parameters)==null?void 0:L.docs,source:{originalSource:`args => {
  const [data, setData] = useState(assets);
  const resetFilter = useRef(null);
  const storeResetFn = resetFn => {
    resetFilter.current = resetFn;
  };
  const handleOnSearch = query => {
    action('onSearch')(query);
    const result = assets.filter(asset => asset.ipAddress.includes(query));
    setData(result);
  };
  const handleOnClearSearch = () => {
    action('onClear')();
    setData(assets);
  };
  const {
    batchActions: argsBatchActions = [],
    controlsConfig: argsControlsConfig = {},
    dataPrimaryKey: argsDataPrimaryKey,
    tableConfig: argsTableConfig = {},
    ...restArgs
  } = args;
  return <Datatable<Data> {...restArgs} batchActions={[...argsBatchActions, ...datatableBatchActions]} columns={simpleColumns} controlsConfig={{
    ...controlsConfig,
    ...argsControlsConfig,
    searchConfig: {
      ...controlsConfig.searchConfig,
      ...argsControlsConfig.searchConfig,
      onSearch: handleOnSearch,
      onClear: handleOnClearSearch
    }
  }} data={data} dataPrimaryKey={argsDataPrimaryKey || 'ipAddress'} dataSize={data.length} resetSelectionFn={storeResetFn} tableConfig={{
    ...argsTableConfig,
    rowActions: [...(argsTableConfig.rowActions || []), ...datatableRowActions],
    onSelect: action('onRowSelect'),
    hasServerSidePagination: false,
    hasServerSideSorting: false
  }} />;
}`,...(I=(O=d.parameters)==null?void 0:O.docs)==null?void 0:I.source}}};const Uo=["ServerSidePlayground","InBrowserPlayground"];export{d as InBrowserPlayground,p as ServerSidePlayground,Uo as __namedExportsOrder,Vo as default};
//# sourceMappingURL=Datatable.stories-CC5lc3_f.js.map
