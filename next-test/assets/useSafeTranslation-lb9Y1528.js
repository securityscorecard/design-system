import{j as ae}from"./jsx-runtime-CfatFE5O.js";import{g as G,a as W,I as Y,R as re,l as le}from"./en-US-DTEh3xIi.js";import{r as A}from"./index-ClcD9ViR.js";import{g as ie}from"./_commonjsHelpers-Cpj98o6Y.js";import{A as oe,t as ce,B as ue}from"./index-Bb-be-4U.js";var fe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const me=ie(fe);var pe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function D(e){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(n.name=t[1],(me[t[1]]||e.charAt(e.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:a!==-1?e.slice(4,a):""}}for(var f=new RegExp(pe),s=null;(s=f.exec(e))!==null;)if(s[0].trim())if(s[1]){var i=s[1].trim(),g=[i,""];i.indexOf("=")>-1&&(g=i.split("=")),n.attrs[g[0]]=g[1],f.lastIndex--}else s[2]&&(n.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return n}var de=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ye=/^\s*$/,he=Object.create(null);function Q(e,n){switch(n.type){case"text":return e+n.content;case"tag":return e+="<"+n.name+(n.attrs?function(t){var a=[];for(var f in t)a.push(f+'="'+t[f]+'"');return a.length?" "+a.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?e:e+n.children.reduce(Q,"")+"</"+n.name+">";case"comment":return e+"<!--"+n.comment+"-->"}}var ge={parse:function(e,n){n||(n={}),n.components||(n.components=he);var t,a=[],f=[],s=-1,i=!1;if(e.indexOf("<")!==0){var g=e.indexOf("<");a.push({type:"text",content:g===-1?e:e.substring(0,g)})}return e.replace(de,function(u,c){if(i){if(u!=="</"+t.name+">")return;i=!1}var m,x=u.charAt(1)!=="/",S=u.startsWith("<!--"),E=c+u.length,p=e.charAt(E);if(S){var N=D(u);return s<0?(a.push(N),a):((m=f[s]).children.push(N),a)}if(x&&(s++,(t=D(u)).type==="tag"&&n.components[t.name]&&(t.type="component",i=!0),t.voidElement||i||!p||p==="<"||t.children.push({type:"text",content:e.slice(E,e.indexOf("<",E))}),s===0&&a.push(t),(m=f[s-1])&&m.children.push(t),f[s]=t),(!x||t.voidElement)&&(s>-1&&(t.voidElement||t.name===u.slice(2,-1))&&(s--,t=s===-1?a:f[s]),!i&&p!=="<"&&p)){m=s===-1?a:f[s].children;var l=e.indexOf("<",E),d=e.slice(E,l===-1?void 0:l);ye.test(d)&&(d=" "),(l>-1&&s+m.length>=0||d!==" ")&&m.push({type:"text",content:d})}}),a},stringify:function(e){return e.reduce(function(n,t){return n+Q("",t)},"")}};const B=(...e)=>{console!=null&&console.warn&&(O(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},H={},P=(...e)=>{O(e[0])&&H[e[0]]||(O(e[0])&&(H[e[0]]=new Date),B(...e))},Z=(e,n)=>()=>{if(e.isInitialized)n();else{const t=()=>{setTimeout(()=>{e.off("initialized",t)},0),n()};e.on("initialized",t)}},J=(e,n,t)=>{e.loadNamespaces(n,Z(e,t))},U=(e,n,t,a)=>{O(t)&&(t=[t]),t.forEach(f=>{e.options.ns.indexOf(f)<0&&e.options.ns.push(f)}),e.loadLanguages(n,Z(e,a))},Ae=(e,n,t={})=>!n.languages||!n.languages.length?(P("i18n.languages were undefined or empty",n.languages),!0):n.hasLoadedNamespace(e,{lng:t.lng,precheck:(a,f)=>{var s;if(((s=t.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!f(a.isLanguageChangingTo,e))return!1}}),O=e=>typeof e=="string",_=e=>typeof e=="object"&&e!==null,R=(e,n)=>{var a;if(!e)return!1;const t=((a=e.props)==null?void 0:a.children)??e.children;return n?t.length>0:!!t},K=e=>{var t,a;if(!e)return[];const n=((t=e.props)==null?void 0:t.children)??e.children;return(a=e.props)!=null&&a.i18nIsDynamicList?z(n):n},be=e=>Array.isArray(e)&&e.every(A.isValidElement),z=e=>Array.isArray(e)?e:[e],ve=(e,n)=>{const t={...n};return t.props=Object.assign(e.props,n.props),t},ee=(e,n)=>{if(!e)return"";let t="";const a=z(e),f=n!=null&&n.transSupportBasicHtmlNodes?n.transKeepBasicHtmlNodesFor??[]:[];return a.forEach((s,i)=>{if(O(s))t+=`${s}`;else if(A.isValidElement(s)){const{props:g,type:u}=s,c=Object.keys(g).length,m=f.indexOf(u)>-1,x=g.children;if(!x&&m&&!c)t+=`<${u}/>`;else if(!x&&(!m||c)||g.i18nIsDynamicList)t+=`<${i}></${i}>`;else if(m&&c===1&&O(x))t+=`<${u}>${x}</${u}>`;else{const S=ee(x,n);t+=`<${i}>${S}</${i}>`}}else if(s===null)B("Trans: the passed in value is invalid - seems you passed in a null child.");else if(_(s)){const{format:g,...u}=s,c=Object.keys(u);if(c.length===1){const m=g?`${c[0]}, ${g}`:c[0];t+=`{{${m}}}`}else B("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else B("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),t},xe=(e,n,t,a,f,s)=>{if(n==="")return[];const i=a.transKeepBasicHtmlNodesFor||[],g=n&&new RegExp(i.map(l=>`<${l}`).join("|")).test(n);if(!e&&!g&&!s)return[n];const u={},c=l=>{z(l).forEach(o=>{O(o)||(R(o)?c(K(o)):_(o)&&!A.isValidElement(o)&&Object.assign(u,o))})};c(e);const m=ge.parse(`<0>${n}</0>`),x={...u,...f},S=(l,d,o)=>{var y;const b=K(l),j=p(b,d.children,o);return be(b)&&j.length===0||(y=l.props)!=null&&y.i18nIsDynamicList?b:j},E=(l,d,o,b,j)=>{l.dummy?(l.children=d,o.push(A.cloneElement(l,{key:b},j?void 0:d))):o.push(...A.Children.map([l],y=>{const r={...y.props};return delete r.i18nIsDynamicList,A.createElement(y.type,{...r,key:b,ref:y.ref},j?null:d)}))},p=(l,d,o)=>{const b=z(l);return z(d).reduce((y,r,h)=>{var k,w;const $=((w=(k=r.children)==null?void 0:k[0])==null?void 0:w.content)&&t.services.interpolator.interpolate(r.children[0].content,x,t.language);if(r.type==="tag"){let V=b[parseInt(r.name,10)];o.length===1&&!V&&(V=o[0][r.name]),V||(V={});const C=Object.keys(r.attrs).length!==0?ve({props:r.attrs},V):V,I=A.isValidElement(C),F=I&&R(r,!0)&&!r.voidElement,L=g&&_(C)&&C.dummy&&!I,M=_(e)&&Object.hasOwnProperty.call(e,r.name);if(O(C)){const v=t.services.interpolator.interpolate(C,x,t.language);y.push(v)}else if(R(C)||F){const v=S(C,r,o);E(C,v,y,h)}else if(L){const v=p(b,r.children,o);E(C,v,y,h)}else if(Number.isNaN(parseFloat(r.name)))if(M){const v=S(C,r,o);E(C,v,y,h,r.voidElement)}else if(a.transSupportBasicHtmlNodes&&i.indexOf(r.name)>-1)if(r.voidElement)y.push(A.createElement(r.name,{key:`${r.name}-${h}`}));else{const v=p(b,r.children,o);y.push(A.createElement(r.name,{key:`${r.name}-${h}`},v))}else if(r.voidElement)y.push(`<${r.name} />`);else{const v=p(b,r.children,o);y.push(`<${r.name}>${v}</${r.name}>`)}else if(_(C)&&!I){const v=r.children[0]?$:null;v&&y.push(v)}else E(C,$,y,h,r.children.length!==1||!$)}else if(r.type==="text"){const V=a.transWrapTextNodes,C=s?a.unescape(t.services.interpolator.interpolate(r.content,x,t.language)):t.services.interpolator.interpolate(r.content,x,t.language);V?y.push(A.createElement(V,{key:`${r.name}-${h}`},C)):y.push(C)}return y},[])},N=p([{dummy:!0,children:e||[]}],m,z(e||[]));return K(N[0])};function Ee({children:e,count:n,parent:t,i18nKey:a,context:f,tOptions:s={},values:i,defaults:g,components:u,ns:c,i18n:m,t:x,shouldUnescape:S,...E}){var V,C,I,F,L,M;const p=m||W();if(!p)return P("You will need to pass in an i18next instance by using i18nextReactModule"),e;const N=x||p.t.bind(p)||(v=>v),l={...G(),...(V=p.options)==null?void 0:V.react};let d=c||N.ns||((C=p.options)==null?void 0:C.defaultNS);d=O(d)?[d]:d||["translation"];const o=ee(e,l),b=g||o||l.transEmptyNodeValue||a,{hashTransKey:j}=l,y=a||(j?j(o||b):o||b);(F=(I=p.options)==null?void 0:I.interpolation)!=null&&F.defaultVariables&&(i=i&&Object.keys(i).length>0?{...i,...p.options.interpolation.defaultVariables}:{...p.options.interpolation.defaultVariables});const r=i||n!==void 0&&!((M=(L=p.options)==null?void 0:L.interpolation)!=null&&M.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},h={...s,context:f||s.context,count:n,...i,...r,defaultValue:b,ns:d},$=y?N(y,h):b;u&&Object.keys(u).forEach(v=>{const q=u[v];if(typeof q.type=="function"||!q.props||!q.props.children||$.indexOf(`${v}/>`)<0&&$.indexOf(`${v} />`)<0)return;function se(){return A.createElement(A.Fragment,null,q)}u[v]=A.createElement(se)});const k=xe(u||e,$,p,l,h,S),w=t??l.defaultTransParent;return w?A.createElement(w,E,k):k}function Ce({children:e,count:n,parent:t,i18nKey:a,context:f,tOptions:s={},values:i,defaults:g,components:u,ns:c,i18n:m,t:x,shouldUnescape:S,...E}){var o;const{i18n:p,defaultNS:N}=A.useContext(Y)||{},l=m||p||W(),d=x||(l==null?void 0:l.t.bind(l));return Ee({children:e,count:n,parent:t,i18nKey:a,context:f,tOptions:s,values:i,defaults:g,components:u,ns:c||(d==null?void 0:d.ns)||N||((o=l==null?void 0:l.options)==null?void 0:o.defaultNS),i18n:l,t:x,shouldUnescape:S,...E})}const Te=(e,n)=>{const t=A.useRef();return A.useEffect(()=>{t.current=e},[e,n]),t.current},ne=(e,n,t,a)=>e.getFixedT(n,t,a),$e=(e,n,t,a)=>A.useCallback(ne(e,n,t,a),[e,n,t,a]),Ne=(e,n={})=>{var j,y,r;const{i18n:t}=n,{i18n:a,defaultNS:f}=A.useContext(Y)||{},s=t||a||W();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new re),!s){P("You will need to pass in an i18next instance by using initReactI18next");const h=(k,w)=>O(w)?w:_(w)&&O(w.defaultValue)?w.defaultValue:Array.isArray(k)?k[k.length-1]:k,$=[h,{},!1];return $.t=h,$.i18n={},$.ready=!1,$}(j=s.options.react)!=null&&j.wait&&P("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...G(),...s.options.react,...n},{useSuspense:g,keyPrefix:u}=i;let c=e;c=O(c)?[c]:c||["translation"],(r=(y=s.reportNamespaces).addUsedNamespaces)==null||r.call(y,c);const m=(s.isInitialized||s.initializedStoreOnce)&&c.every(h=>Ae(h,s,i)),x=$e(s,n.lng||null,i.nsMode==="fallback"?c:c[0],u),S=()=>x,E=()=>ne(s,n.lng||null,i.nsMode==="fallback"?c:c[0],u),[p,N]=A.useState(S);let l=c.join();n.lng&&(l=`${n.lng}${l}`);const d=Te(l),o=A.useRef(!0);A.useEffect(()=>{const{bindI18n:h,bindI18nStore:$}=i;o.current=!0,!m&&!g&&(n.lng?U(s,n.lng,c,()=>{o.current&&N(E)}):J(s,c,()=>{o.current&&N(E)})),m&&d&&d!==l&&o.current&&N(E);const k=()=>{o.current&&N(E)};return h&&(s==null||s.on(h,k)),$&&(s==null||s.store.on($,k)),()=>{o.current=!1,s&&(h==null||h.split(" ").forEach(w=>s.off(w,k))),$&&s&&$.split(" ").forEach(w=>s.store.off(w,k))}},[s,l]),A.useEffect(()=>{o.current&&m&&N(S)},[s,u,m]);const b=[p,s,m];if(b.t=p,b.i18n=s,b.ready=m,m||!m&&!g)return b;throw new Promise(h=>{n.lng?U(s,n.lng,c,()=>h()):J(s,c,()=>h())})};function T(){var e="/Users/radekpodrazky/Projects/design-system/src/hooks/useSafeTranslation.tsx",n="2d36efddc18d1622530f66f0b71bc7f48ecb6f37",t=window,a="__coverage__",f={path:"/Users/radekpodrazky/Projects/design-system/src/hooks/useSafeTranslation.tsx",statementMap:{0:{start:{line:5,column:24},end:{line:5,column:69}},1:{start:{line:5,column:33},end:{line:5,column:69}},2:{start:{line:6,column:34},end:{line:18,column:1}},3:{start:{line:10,column:6},end:{line:10,column:29}},4:{start:{line:11,column:2},end:{line:17,column:4}},5:{start:{line:12,column:25},end:{line:15,column:6}},6:{start:{line:25,column:6},end:{line:25,column:26}},7:{start:{line:26,column:2},end:{line:26,column:102}},8:{start:{line:28,column:0},end:{line:34,column:50}},9:{start:{line:30,column:4},end:{line:30,column:40}},10:{start:{line:32,column:4},end:{line:32,column:1538}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:24},end:{line:5,column:25}},loc:{start:{line:5,column:33},end:{line:5,column:69}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:6,column:34},end:{line:6,column:35}},loc:{start:{line:6,column:40},end:{line:18,column:1}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:12,column:7},end:{line:12,column:8}},loc:{start:{line:12,column:25},end:{line:15,column:6}},line:12},3:{name:"SafeTrans",decl:{start:{line:19,column:16},end:{line:19,column:25}},loc:{start:{line:22,column:3},end:{line:27,column:1}},line:22}},branchMap:{0:{loc:{start:{line:13,column:9},end:{line:13,column:22}},type:"binary-expr",locations:[{start:{line:13,column:9},end:{line:13,column:16}},{start:{line:13,column:20},end:{line:13,column:22}}],line:13}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/Users/radekpodrazky/Projects/design-system/src/hooks/useSafeTranslation.tsx"],names:["t","i18n","language","i18nKey"],mappings:"AAwCI;AArCJ;AACA;AAIA;AAKA;AACO;AAIL;AAAM;AAAEA;AAAGC;AAEX;AAAO;AAEI;AACW;AACiB;AAClC;AAEOC;AAEd;AAEO;AAAmB;AACxBC;AAIiE;AACjE;AAAM;AAAEH;AAER;AAQF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2d36efddc18d1622530f66f0b71bc7f48ecb6f37"},s=t[a]||(t[a]={});(!s[e]||s[e].hash!==n)&&(s[e]=f);var i=s[e];return T=function(){return i},i}T();T().s[0]++;const te=e=>(T().f[0]++,T().s[1]++,oe(ce,[ue(".")])(e,le));T().s[2]++;const ke=()=>{T().f[1]++;const{t:e,i18n:n}=(T().s[3]++,Ne("sscds"));return T().s[4]++,{t:(t,a)=>(T().f[2]++,T().s[5]++,e(t,{...(T().b[0][0]++,a??(T().b[0][1]++,{})),defaultValue:te(t)})),lng:n.language}};function X({i18nKey:e,...n}){T().f[3]++;const{t}=(T().s[6]++,ke());return T().s[7]++,ae.jsx(Ce,{...n,defaultValue:te(e),i18nKey:e,t})}T().s[8]++;try{T().s[9]++,X.displayName="SafeTrans",T().s[10]++,X.__docgenInfo={description:"",displayName:"SafeTrans",props:{i18nKey:{defaultValue:null,description:"",name:"i18nKey",required:!0,type:{name:"Key"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"{}"}},context:{defaultValue:null,description:"",name:"context",required:!1,type:{name:"string"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},ns:{defaultValue:null,description:"",name:"ns",required:!1,type:{name:"Namespace"}},components:{defaultValue:null,description:"",name:"components",required:!1,type:{name:"readonly ReactElement<any, string | JSXElementConstructor<any>>[] | { readonly [tagName: string]: ReactElement<any, string | JSXElementConstructor<any>>; }"}},i18n:{defaultValue:null,description:"",name:"i18n",required:!1,type:{name:"i18n"}},parent:{defaultValue:null,description:"",name:"parent",required:!1,type:{name:"string | ComponentType<any>"}},tOptions:{defaultValue:null,description:"",name:"tOptions",required:!1,type:{name:"TOptionsBase & $Dictionary & { context?: string; }"}},shouldUnescape:{defaultValue:null,description:"",name:"shouldUnescape",required:!1,type:{name:"boolean"}}}}}catch{}export{X as S,ke as u};
//# sourceMappingURL=useSafeTranslation-lb9Y1528.js.map
